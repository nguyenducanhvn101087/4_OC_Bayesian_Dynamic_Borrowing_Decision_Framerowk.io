<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Anh Nguyen Duc" />


<title>PRROC Gating - NMA - Dynamic Borrowing</title>

<script src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/header-attrs-2.14/header-attrs.js"></script>
<script src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/navigation-1.1/tabsets.js"></script>
<link href="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/highlightjs-9.12.0/highlight.js"></script>
<script src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/kePrint-0.0.1/kePrint.js"></script>
<link href="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/lightable-0.0.1/lightable.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">



<h1 class="title toc-ignore">PRROC Gating - NMA - Dynamic Borrowing</h1>
<h4 class="author">Anh Nguyen Duc</h4>
<h4 class="date">22 March, 2023</h4>

</div>


<div id="utility-functions" class="section level2" number="0.1">
<h2><span class="header-section-number">0.1</span> Utility
functions</h2>
<pre class="r"><code>wald.ci &lt;- function(x, n, ci.lev=.95) {
  p &lt;- x/n
  se&lt;- sqrt(p*(1-p)/n)
  z &lt;- qnorm((1+ci.lev)/2) %&gt;% abs
  p + c(-1,1)*z*se
}
#-------------------------------------------------------------------------------
lor.sd &lt;- function(s1, n1, s2, n2) { 
# get log OR and SD
  f1 &lt;- n1 - s1
  f2 &lt;- n2 - s2
# x - matrix of two columns of successes (s) and failures (f)
  x &lt;- rbind(c(s1, f1), 
             c(s2, f2))
  D &lt;- factor(c(&quot;s&quot;,&quot;f&quot;), levels=c(&quot;f&quot;,&quot;s&quot;))
  m &lt;- glm(x~D, family=binomial) %&gt;% summary
  m$coefficients[2,1:2]
}
#-------------------------------------------------------------------------------
lhr.sd &lt;- function(hr, low, upp) {
# approx log HR and SD 
  loghr &lt;- log(hr)
  sd &lt;- ((log(c(low,upp)) - loghr) / qnorm(.975)) %&gt;% abs %&gt;% sqrt %&gt;% mean
  return(c(&quot;loghr&quot;=loghr, &quot;sd&quot;=sd))
}</code></pre>
</div>
<div id="posterior-probability-of-true-response-ge-a-threshold"
class="section level2" number="0.2">
<h2><span class="header-section-number">0.2</span> Posterior probability
of ``true’’ response <span class="math inline">\(\ge\)</span> a
threshold</h2>
<div id="load-data" class="section level3" number="0.2.1">
<h3><span class="header-section-number">0.2.1</span> Load data</h3>
<pre class="r"><code>data.raw &lt;- readxl::read_xlsx(path = &#39;PRROC.xlsx&#39;, range = cell_cols(&#39;A:M&#39;))
data.use &lt;- data.raw %&gt;% dplyr::filter(dynamic_borrow_SAT==&#39;Y&#39;)
data.use &lt;- data.use[,c(1:3, data.use%&gt;%ncol)]
data.use &lt;- data.use[-2,,drop=F] # as per clinical team =&gt; remove Adavo
data.use %&gt;% kbl() %&gt;% kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
study
</th>
<th style="text-align:right;">
res_a
</th>
<th style="text-align:right;">
n_a
</th>
<th style="text-align:left;">
des
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:left;">
Konstantinopoulos PA, Lancet Oncol. 2020
</td>
</tr>
</tbody>
</table>
</div>
<div
id="winbugs-model-for-binary-exnex-model-with-dynamic-stochastic-mixture-weights"
class="section level3" number="0.2.2">
<h3><span class="header-section-number">0.2.2</span> WinBUGs model for
binary EXNEX model with dynamic (stochastic) mixture weights</h3>
<p>This is based on section 5.3 of <a
href="https://onlinelibrary.wiley.com/action/downloadSupplement?doi=10.1002%2Fpst.1730&amp;file=pst1730-sup-0001-supplementary.pdf"
class="uri">https://onlinelibrary.wiley.com/action/downloadSupplement?doi=10.1002%2Fpst.1730&amp;file=pst1730-sup-0001-supplementary.pdf</a></p>
<p>Original paper is <a
href="https://onlinelibrary.wiley.com/doi/epdf/10.1002/pst.1730"
class="uri">https://onlinelibrary.wiley.com/doi/epdf/10.1002/pst.1730</a></p>
<pre class="r"><code>### Model definition when mixture weights are stochastic
binary_exnex_model_dw &lt;- function() {
## Data to be specify in the input
#-------------------------------------------------------------------------------

# Nexch        - number of exchangeable components
# Nmix         - number of mixture weights and must be Nexch+1
# Nstrata      - number of strata e.g. studies or cohort (in platform trial)
# pMix         - matrix of Nmix * Nstrata mixture weights (each col summing up to 1)
# n            - vector of Nstrata elements storing patient numbers for each stratum
# r            - vector of Nstrata elements storing response numbers for each stratum

# mu.mean      - vector of Nexch prior mean(s)
# mu.prec      - vector of Nexch prior precision(s)
# tau.HN.scale - scale parameter of Half-Normal prior for tau
# ------- no longer needed -----------------------------------------------------
# nex.mean     - prior mean for non-exchangeable component
# nex.prec     - prior precision for non-exchangeable component
# ------- end of no longer needed ----------------------------------------------
# p.cut        - clinically relevant threshold for response rate to compare against
  
## Parameter(s) to be monitored
# p            - posterior response rate
# logit_p      - logit(p) i.e. log odd
# p.success    - posterior indicator if p &gt; p.cut
# p.failure    - posterior indicator if p &lt; p.cut
# pMix         - posterior mixture weight to test for &quot;exchangeability&quot;

#-------------------------------------------------------------------------------
  
  # prior distributions for EX-parameters
  for (jj in 1:Nexch) {
    mu[jj] ~dnorm(mu.mean[jj],mu.prec[jj])
    prior.tau.prec[jj] &lt;- pow(tau.HN.scale[jj],-2)
    tau[jj] ~ dnorm(0,prior.tau.prec[jj]);I(0.001,)
    prec.tau[jj] &lt;- pow(tau[jj],-2)
  }
  
  # log-odds parameters under EX
  for (jj in 1:Nexch) {
    for (j in 1:Nstrata) {
      re[jj,j] ~ dnorm(0,prec.tau[jj])
      LogOdds[jj,j] &lt;- mu[jj]+re[jj,j]
    }
  }
  
  # log-odds parameters under NEX
  for (j in 1:Nstrata) {
    #p_Nmix[j] ~ dbeta(2,2) # slight mod to have flat prior
    #LogOdds[Nmix,j] ~ dnorm(nex.mean,nex.prec)#&lt;- logit(p_Nmix[j])#

    # LogOdds[Nmix,j] ~ dt(0, 2, 1) #Student&#39;s t-distribution becomes the Cauchy distribution when the degrees of freedom is equal to one
    LogOdds[Nmix,j] ~ dunif(-20, 20)
    
  }
  
  # latent mixture indicators:
  # exch.index: categorial 1,...,Nmix=Nexch+1
  # exch: Nstrata x Nmix matrix of 0/1 elements
  for (j in 1:Nstrata) {
    exch.index[j] ~ dcat(pMix[1:Nmix,j])
    for (jj in 1:Nmix) {
      exch[j,jj] &lt;- equals(exch.index[j],jj)
    }
  }
  
  # pick theta
  for (j in 1:Nstrata) {
    theta[j] &lt;- LogOdds[exch.index[j],j]
  }
  
  # likelihood part
  for (i in 1:Nstrata) {
    logit( p[i] ) &lt;- theta[i]
    p.success[i]  &lt;- step(p[i]-p.cut)
    p.failure[i]  &lt;- step(p.cut-p[i])
    r[i] ~ dbin(p[i],n[i])
    logit_p[i] &lt;- theta[i]
  }
  
  # normalized mixture weights
  for (i in 1:Nstrata) {
    for (j in 1:Nmix) {
      pMix0[j,i] ~ dbeta(2, 2)
    }
  
    for (j in 1:Nmix) {
      pMix[j,i] &lt;- pMix0[j,i] / sum(pMix0[,i])
    }    
  }

  
} # end of binary_exnex_model_dw

write.model(binary_exnex_model_dw, &#39;binary_exnex_model_dw.bug&#39;)

### Parameters to monitor
parameters_binary_exnex_model_dw &lt;- c(&#39;p&#39;, &#39;logit_p&#39;, &#39;pMix&#39;, &#39;p.success&#39;, &#39;p.failure&#39;)

### Data

## EX part
mu.mean &lt;- c(logit(.05), logit(.3)) # ex prior for hyper meanis centered at logit(0.05)
# ex precision  for hyperpar mean based on (23) of https://onlinelibrary.wiley.com/action/downloadSupplement?doi=10.1002%2Fpst.1730&amp;file=pst1730-sup-0001-supplementary.pdf
mu.prec &lt;- 1/sqrt( ( 1/inv.logit(mu.mean) + 1/(1-inv.logit(mu.mean)) )) # still missing s^2 but this would only make the prior more non-informative

Nexch   &lt;- mu.mean %&gt;% length

tau.HN.scale &lt;- rep(1, Nexch)

# ## NEX part - no longer needed
# nex.mean&lt;-logit(.15) # prior mean for nex part
# 
# # prior precision for nex part based on (20) of https://onlinelibrary.wiley.com/action/downloadSupplement?doi=10.1002%2Fpst.1730&amp;file=pst1730-sup-0001-supplementary.pdf
# nex.prec &lt;- 1/sqrt( 1/inv.logit(nex.mean) + 1/(1-inv.logit(nex.mean))  * 1e5 ) 

p.cut&lt;-.15

Nmix    &lt;- Nexch + 1

obs.orrs &lt;- c(.05, .1, .15, .2, .25, .3, .35) # would-be observed ORR from expansion cohort
npt      &lt;- c(20, 25, 30) # number of patients from expansion cohort

data_binary_exnex_model_dw &lt;- binary_exnex_jag_dw &lt;- binary_exnex_mcmc_dw &lt;- list()


## Run JAGs
for (id0 in 1:length(npt)) {
  data_binary_exnex_model_dw[[id0]] &lt;- binary_exnex_jag_dw[[id0]] &lt;- binary_exnex_mcmc_dw[[id0]] &lt;- list()
  
  for (id in 1:length(obs.orrs)) {
    
    print(paste0(&#39;Observed ORR = &#39;, obs.orrs[id]))
    
    orr &lt;- obs.orrs[id]
    n   &lt;- c(data.use$n_a, npt[id0])
    r   &lt;- c(data.use$res_a, orr*npt[id0]) %&gt;% round
    
    Nstrata &lt;- n %&gt;% length
    
    data_binary_exnex_model_dw[[id0]][[id]]&lt;- list(Nexch=Nexch, Nmix=Nmix, Nstrata=Nstrata,
                                            n=n, r=r,
                                            mu.mean=mu.mean, mu.prec=mu.prec,
                                            tau.HN.scale=tau.HN.scale,
                                            # nex.mean=nex.mean, nex.prec=nex.prec, 
                                            p.cut=p.cut
                                            )
    ### Inits
    inits_binary_exnex_model_dw &lt;- function() {
      pMix0 &lt;- rbeta(Nmix*Nstrata, 2, 2) %&gt;% matrix(nrow=Nstrata) %&gt;% t
      for (nc in 1:ncol(pMix0)) {
        pMix0[,nc] &lt;- pMix0[,nc] / sum(pMix0[,nc])
      }
      
      list(
        &quot;mu&quot;=rnorm(Nexch),
        &quot;tau&quot;=rnorm(Nexch) %&gt;% abs,
        &quot;pMix0&quot;=pMix0
        )  
    } # end of inits_binary_exnex_model_dw  
    
    # JAGS
    set.seed(36)
    binary_exnex_jag_dw[[id0]][[id]] &lt;- jags(data = data_binary_exnex_model_dw[[id0]][[id]], 
                                    inits = inits_binary_exnex_model_dw, 
                                    parameters.to.save = parameters_binary_exnex_model_dw,
                                    model.file = &quot;binary_exnex_model_dw.bug&quot;,
                                    n.chains=3, n.iter=1e4, n.burnin=5e3)
    # print(binary_exnex_jag_dw)
    
    binary_exnex_mcmc_dw[[id0]][[id]] &lt;- binary_exnex_jag_dw[[id0]][[id]] %&gt;% as.mcmc.rjags
    binary_exnex_mcmc_dw[[id0]][[id]] %&gt;% summary %&gt;% print
    
    ### Credible interval for selected parameters
    mcmcplots::caterplot(binary_exnex_jag_dw[[id0]][[id]], parms = c(&#39;p&#39;))  
    
    ### Density plot for posterior logit alone
    par(ask=F)
    mcmcplots::denplot(binary_exnex_jag_dw[[id0]][[id]], parms = c(paste0(&#39;logit_p[&#39;, Nstrata, &#39;]&#39;)), collapse = T, lwd=2,xlim=c(-15,15), style =&#39;plain&#39;, main=&#39;Posterior distribution of true ORR&#39;, frame.plot=F)
    
  } # end of for (id in 1:length(obs.orrs))  
} # end of for (id0 in 1:length(npt[id0]))</code></pre>
<pre><code>## [1] &quot;Observed ORR = 0.05&quot;</code></pre>
<pre><code>## module glm loaded</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      5.406249 1.63638 0.0298760      0.0347967
## logit_p[1]   -3.477220 0.92579 0.0169026      0.0206086
## logit_p[2]   -3.157759 0.93867 0.0171376      0.0210759
## p[1]          0.040427 0.03000 0.0005477      0.0006376
## p[2]          0.055750 0.04373 0.0007983      0.0008645
## p.failure[1]  0.991667 0.09092 0.0016600      0.0021367
## p.failure[2]  0.957000 0.20289 0.0037043      0.0038559
## p.success[1]  0.008333 0.09092 0.0016600      0.0021367
## p.success[2]  0.043000 0.20289 0.0037043      0.0038559
## pMix[1,1]     0.356830 0.13399 0.0024464      0.0025388
## pMix[2,1]     0.332662 0.12904 0.0023560      0.0024025
## pMix[3,1]     0.310508 0.13172 0.0024049      0.0024048
## pMix[1,2]     0.349186 0.13515 0.0024675      0.0025419
## pMix[2,2]     0.340464 0.13479 0.0024610      0.0025000
## pMix[3,2]     0.310350 0.13171 0.0024046      0.0024773
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      3.954806  4.30260  4.85920  5.95840 10.0555
## logit_p[1]   -5.608126 -3.94001 -3.36452 -2.86113 -2.0297
## logit_p[2]   -5.346143 -3.68752 -3.06432 -2.50831 -1.5836
## p[1]          0.003655  0.01908  0.03342  0.05411  0.1161
## p[2]          0.004744  0.02442  0.04460  0.07528  0.1703
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  1.0000
## pMix[1,1]     0.101048  0.26541  0.35605  0.44300  0.6395
## pMix[2,1]     0.086325  0.24384  0.33508  0.41908  0.5895
## pMix[3,1]     0.070152  0.21520  0.31203  0.39837  0.5808
## pMix[1,2]     0.088978  0.25520  0.34891  0.43446  0.6386
## pMix[2,2]     0.085868  0.24539  0.33879  0.43041  0.6103
## pMix[3,2]     0.067372  0.21254  0.31416  0.39858  0.5685</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-1.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-2.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.1&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      6.245036 1.66030 0.0303128      0.0321128
## logit_p[1]   -3.426738 0.92996 0.0169787      0.0200460
## logit_p[2]   -2.469869 0.76142 0.0139015      0.0156842
## p[1]          0.042505 0.03032 0.0005536      0.0006549
## p[2]          0.094621 0.06009 0.0010970      0.0012185
## p.failure[1]  0.995333 0.06816 0.0012445      0.0012449
## p.failure[2]  0.837333 0.36912 0.0067392      0.0074510
## p.success[1]  0.004667 0.06816 0.0012445      0.0012449
## p.success[2]  0.162667 0.36912 0.0067392      0.0074510
## pMix[1,1]     0.353092 0.13338 0.0024351      0.0024352
## pMix[2,1]     0.331550 0.13292 0.0024269      0.0023312
## pMix[3,1]     0.315358 0.12926 0.0023599      0.0024035
## pMix[1,2]     0.343091 0.13676 0.0024968      0.0024973
## pMix[2,2]     0.345275 0.13324 0.0024325      0.0024736
## pMix[3,2]     0.311633 0.13008 0.0023749      0.0024402
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      4.543357  5.07545  5.76756  6.86127 10.6392
## logit_p[1]   -5.583491 -3.92517 -3.27319 -2.77766 -2.0140
## logit_p[2]   -4.099001 -2.93952 -2.42925 -1.92818 -1.1567
## p[1]          0.003745  0.01936  0.03650  0.05854  0.1177
## p[2]          0.016319  0.05023  0.08097  0.12695  0.2393
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  1.0000
## pMix[1,1]     0.093423  0.26354  0.35488  0.44122  0.6237
## pMix[2,1]     0.076554  0.24069  0.33180  0.41808  0.5937
## pMix[3,1]     0.079667  0.22391  0.31208  0.40316  0.5803
## pMix[1,2]     0.077277  0.25243  0.34333  0.43370  0.6171
## pMix[2,2]     0.088507  0.25747  0.34614  0.42988  0.6106
## pMix[3,2]     0.070527  0.21979  0.30978  0.39653  0.5768</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-3.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-4.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.15&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean     SD  Naive SE Time-series SE
## deviance      6.89190 1.9450 0.0355114       0.037941
## logit_p[1]   -3.43599 1.0253 0.0187188       0.022485
## logit_p[2]   -1.95290 0.6743 0.0123113       0.014356
## p[1]          0.04467 0.0352 0.0006426       0.000770
## p[2]          0.14161 0.0762 0.0013911       0.001637
## p.failure[1]  0.98600 0.1175 0.0021454       0.002254
## p.failure[2]  0.60700 0.4885 0.0089187       0.010136
## p.success[1]  0.01400 0.1175 0.0021454       0.002254
## p.success[2]  0.39300 0.4885 0.0089187       0.010136
## pMix[1,1]     0.35323 0.1314 0.0023989       0.002399
## pMix[2,1]     0.33323 0.1318 0.0024071       0.002455
## pMix[3,1]     0.31354 0.1274 0.0023260       0.002327
## pMix[1,2]     0.33612 0.1309 0.0023905       0.002583
## pMix[2,2]     0.35284 0.1302 0.0023762       0.002374
## pMix[3,2]     0.31105 0.1272 0.0023222       0.002323
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      4.855422  5.43222  6.38567  7.77554 11.9726
## logit_p[1]   -5.842875 -3.98494 -3.30146 -2.70565 -1.8970
## logit_p[2]   -3.429114 -2.37789 -1.91224 -1.48448 -0.7131
## p[1]          0.002892  0.01825  0.03552  0.06264  0.1305
## p[2]          0.031398  0.08487  0.12873  0.18475  0.3289
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  1.00000  1.0000
## pMix[1,1]     0.101458  0.26381  0.35536  0.44248  0.6173
## pMix[2,1]     0.082578  0.24421  0.33519  0.41688  0.6074
## pMix[3,1]     0.075572  0.22540  0.31276  0.39799  0.5645
## pMix[1,2]     0.087190  0.24655  0.33660  0.42122  0.6082
## pMix[2,2]     0.102202  0.26508  0.35094  0.43456  0.6220
## pMix[3,2]     0.069378  0.22334  0.30957  0.39607  0.5626</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-5.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-6.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.2&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.04360 1.91373 0.0349397      0.0365530
## logit_p[1]   -3.43720 0.99735 0.0182090      0.0233260
## logit_p[2]   -1.55296 0.58473 0.0106756      0.0127678
## p[1]          0.04427 0.03548 0.0006479      0.0007821
## p[2]          0.18966 0.08410 0.0015355      0.0018194
## p.failure[1]  0.98433 0.12420 0.0022676      0.0023101
## p.failure[2]  0.36200 0.48066 0.0087756      0.0101693
## p.success[1]  0.01567 0.12420 0.0022676      0.0023101
## p.success[2]  0.63800 0.48066 0.0087756      0.0101693
## pMix[1,1]     0.35397 0.13427 0.0024514      0.0025031
## pMix[2,1]     0.32590 0.13013 0.0023758      0.0023779
## pMix[3,1]     0.32014 0.13002 0.0023739      0.0023745
## pMix[1,2]     0.33280 0.13535 0.0024711      0.0025234
## pMix[2,2]     0.35640 0.13170 0.0024044      0.0024931
## pMix[3,2]     0.31080 0.12673 0.0023137      0.0023139
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.066023  5.60399  6.48852  7.90446 11.8223
## logit_p[1]   -5.736333 -3.99699 -3.31588 -2.74161 -1.8370
## logit_p[2]   -2.744414 -1.92640 -1.52917 -1.13906 -0.5115
## p[1]          0.003216  0.01804  0.03503  0.06056  0.1374
## p[2]          0.060403  0.12715  0.17811  0.24249  0.3748
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  1.00000  1.00000  1.0000
## pMix[1,1]     0.090044  0.26821  0.35330  0.43907  0.6268
## pMix[2,1]     0.080286  0.23616  0.32723  0.41163  0.5884
## pMix[3,1]     0.079591  0.22869  0.31645  0.40530  0.5909
## pMix[1,2]     0.073309  0.23834  0.33540  0.41998  0.6197
## pMix[2,2]     0.102401  0.26634  0.35584  0.44327  0.6238
## pMix[3,2]     0.074345  0.21923  0.31198  0.39863  0.5641</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-7.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-8.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.25&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.27392 2.06396 0.0376826      0.0429368
## logit_p[1]   -3.51058 1.04671 0.0191103      0.0245931
## logit_p[2]   -1.22536 0.55348 0.0101051      0.0129431
## p[1]          0.04262 0.03538 0.0006459      0.0007956
## p[2]          0.24057 0.09441 0.0017237      0.0022265
## p.failure[1]  0.98700 0.11329 0.0020684      0.0021976
## p.failure[2]  0.17167 0.37715 0.0068858      0.0078815
## p.success[1]  0.01300 0.11329 0.0020684      0.0021976
## p.success[2]  0.82833 0.37715 0.0068858      0.0078815
## pMix[1,1]     0.35923 0.13617 0.0024861      0.0025544
## pMix[2,1]     0.32488 0.13173 0.0024050      0.0024030
## pMix[3,1]     0.31589 0.12851 0.0023463      0.0022739
## pMix[1,2]     0.32562 0.13338 0.0024352      0.0024353
## pMix[2,2]     0.35932 0.13239 0.0024171      0.0023017
## pMix[3,2]     0.31506 0.13056 0.0023837      0.0023426
## 
## 2. Quantiles for each variable:
## 
##                   2.5%     25%      50%      75%   97.5%
## deviance      5.224055  5.7707  6.62991  8.13563 12.6999
## logit_p[1]   -5.849535 -4.1063 -3.38243 -2.76281 -1.8980
## logit_p[2]   -2.397565 -1.5843 -1.19672 -0.84807 -0.1828
## p[1]          0.002873  0.0162  0.03285  0.05937  0.1303
## p[2]          0.083359  0.1702  0.23206  0.29984  0.4544
## p.failure[1]  1.000000  1.0000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.0000  0.00000  0.00000  1.0000
## p.success[1]  0.000000  0.0000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  1.0000  1.00000  1.00000  1.0000
## pMix[1,1]     0.101494  0.2674  0.35949  0.44000  0.6470
## pMix[2,1]     0.079310  0.2321  0.32643  0.40911  0.5952
## pMix[3,1]     0.083066  0.2219  0.31694  0.40103  0.5750
## pMix[1,2]     0.082311  0.2324  0.32287  0.41365  0.6007
## pMix[2,2]     0.103930  0.2678  0.35840  0.44669  0.6256
## pMix[3,2]     0.074586  0.2219  0.31404  0.40022  0.5886</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-9.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-10.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.3&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                 Mean      SD  Naive SE Time-series SE
## deviance      7.4494 2.15162 0.0392830       0.046467
## logit_p[1]   -3.5774 1.12561 0.0205508       0.026923
## logit_p[2]   -0.9736 0.52019 0.0094974       0.011666
## p[1]          0.0416 0.03587 0.0006548       0.000804
## p[2]          0.2856 0.09885 0.0018047       0.002164
## p.failure[1]  0.9860 0.11751 0.0021454       0.002145
## p.failure[2]  0.0760 0.26504 0.0048390       0.005602
## p.success[1]  0.0140 0.11751 0.0021454       0.002145
## p.success[2]  0.9240 0.26504 0.0048390       0.005602
## pMix[1,1]     0.3560 0.13387 0.0024441       0.002604
## pMix[2,1]     0.3249 0.13016 0.0023764       0.002352
## pMix[3,1]     0.3190 0.12988 0.0023713       0.002427
## pMix[1,2]     0.3271 0.13451 0.0024558       0.002584
## pMix[2,2]     0.3569 0.13408 0.0024480       0.002390
## pMix[3,2]     0.3161 0.12904 0.0023560       0.002295
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%     75%    97.5%
## deviance      5.323740  5.92918  6.81649  8.2600 13.24478
## logit_p[1]   -6.192496 -4.18656 -3.41103 -2.7840 -1.86316
## logit_p[2]   -2.081239 -1.31256 -0.93724 -0.6030 -0.05381
## p[1]          0.002041  0.01497  0.03195  0.0582  0.13433
## p[2]          0.110934  0.21206  0.28146  0.3537  0.48655
## p.failure[1]  1.000000  1.00000  1.00000  1.0000  1.00000
## p.failure[2]  0.000000  0.00000  0.00000  0.0000  1.00000
## p.success[1]  0.000000  0.00000  0.00000  0.0000  0.00000
## p.success[2]  0.000000  1.00000  1.00000  1.0000  1.00000
## pMix[1,1]     0.092168  0.26566  0.35452  0.4448  0.63276
## pMix[2,1]     0.078171  0.23380  0.32641  0.4131  0.58513
## pMix[3,1]     0.076174  0.23037  0.31926  0.4048  0.58704
## pMix[1,2]     0.078266  0.23363  0.32644  0.4149  0.60919
## pMix[2,2]     0.101372  0.26740  0.35580  0.4441  0.62259
## pMix[3,2]     0.074963  0.22505  0.31729  0.3997  0.57710</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-11.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-12.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.35&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.334305 1.96971 0.0359619      0.0425898
## logit_p[1]   -3.566673 1.02559 0.0187247      0.0268215
## logit_p[2]   -0.733751 0.48201 0.0088003      0.0107861
## p[1]          0.040047 0.03330 0.0006079      0.0008328
## p[2]          0.332767 0.10142 0.0018516      0.0022812
## p.failure[1]  0.990333 0.09786 0.0017867      0.0018860
## p.failure[2]  0.022333 0.14779 0.0026983      0.0028826
## p.success[1]  0.009667 0.09786 0.0017867      0.0018860
## p.success[2]  0.977667 0.14779 0.0026983      0.0028826
## pMix[1,1]     0.355375 0.13059 0.0023842      0.0023847
## pMix[2,1]     0.328705 0.13026 0.0023781      0.0024163
## pMix[3,1]     0.315920 0.12882 0.0023519      0.0023524
## pMix[1,2]     0.323631 0.12943 0.0023631      0.0023629
## pMix[2,2]     0.363308 0.13137 0.0023985      0.0028023
## pMix[3,2]     0.313061 0.12670 0.0023131      0.0023630
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.413510  5.94112  6.71707  8.07111 12.9599
## logit_p[1]   -5.902155 -4.14720 -3.43454 -2.82703 -1.9095
## logit_p[2]   -1.692587 -1.05971 -0.71817 -0.38627  0.1635
## p[1]          0.002726  0.01556  0.03123  0.05588  0.1290
## p[2]          0.155436  0.25737  0.32780  0.40462  0.5408
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  1.000000  1.00000  1.00000  1.00000  1.0000
## pMix[1,1]     0.104720  0.26574  0.35345  0.43906  0.6265
## pMix[2,1]     0.082779  0.23828  0.33294  0.41365  0.5958
## pMix[3,1]     0.069657  0.22393  0.31854  0.40044  0.5751
## pMix[1,2]     0.078504  0.23395  0.32471  0.40678  0.5816
## pMix[2,2]     0.102954  0.27570  0.36220  0.44094  0.6400
## pMix[3,2]     0.073569  0.22340  0.31345  0.39841  0.5663</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-13.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-14.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.05&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      5.40891 1.65451 0.0302071      0.0405664
## logit_p[1]   -3.55217 0.92344 0.0168595      0.0218781
## logit_p[2]   -3.36100 0.94676 0.0172853      0.0205233
## p[1]          0.03805 0.02899 0.0005294      0.0007007
## p[2]          0.04618 0.03686 0.0006729      0.0008091
## p.failure[1]  0.99600 0.06313 0.0011526      0.0011523
## p.failure[2]  0.98000 0.14002 0.0025565      0.0029591
## p.success[1]  0.00400 0.06313 0.0011526      0.0011523
## p.success[2]  0.02000 0.14002 0.0025565      0.0029591
## pMix[1,1]     0.35455 0.13288 0.0024260      0.0026808
## pMix[2,1]     0.33118 0.13062 0.0023848      0.0024783
## pMix[3,1]     0.31426 0.12753 0.0023284      0.0024252
## pMix[1,2]     0.35608 0.13465 0.0024584      0.0023568
## pMix[2,2]     0.33192 0.12944 0.0023633      0.0024016
## pMix[3,2]     0.31200 0.12986 0.0023710      0.0023706
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      3.960648  4.26187  4.86395  5.96561  9.9538
## logit_p[1]   -5.676582 -4.03948 -3.45771 -2.91944 -2.0763
## logit_p[2]   -5.580906 -3.87456 -3.26574 -2.72093 -1.7916
## p[1]          0.003414  0.01730  0.03054  0.05120  0.1114
## p[2]          0.003755  0.02034  0.03677  0.06175  0.1429
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  0.0000
## pMix[1,1]     0.107365  0.26329  0.35257  0.43893  0.6251
## pMix[2,1]     0.083238  0.23916  0.33121  0.41734  0.5996
## pMix[3,1]     0.072005  0.22568  0.31578  0.39795  0.5651
## pMix[1,2]     0.101664  0.26608  0.35557  0.43877  0.6414
## pMix[2,2]     0.080022  0.24111  0.33095  0.41836  0.5899
## pMix[3,2]     0.068003  0.22138  0.31155  0.39788  0.5784</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-15.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-16.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.1&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      6.204363 1.66582 0.0304135      0.0351299
## logit_p[1]   -3.413526 0.92389 0.0168678      0.0201537
## logit_p[2]   -2.665888 0.73214 0.0133670      0.0160422
## p[1]          0.042882 0.03095 0.0005651      0.0006416
## p[2]          0.078446 0.04843 0.0008842      0.0010444
## p.failure[1]  0.992667 0.08533 0.0015580      0.0017515
## p.failure[2]  0.913667 0.28090 0.0051286      0.0055556
## p.success[1]  0.007333 0.08533 0.0015580      0.0017515
## p.success[2]  0.086333 0.28090 0.0051286      0.0055556
## pMix[1,1]     0.348378 0.13096 0.0023911      0.0024459
## pMix[2,1]     0.334049 0.13458 0.0024571      0.0025425
## pMix[3,1]     0.317573 0.12862 0.0023482      0.0023483
## pMix[1,2]     0.346878 0.12935 0.0023616      0.0024901
## pMix[2,2]     0.343589 0.12888 0.0023529      0.0022920
## pMix[3,2]     0.309533 0.12797 0.0023364      0.0023459
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      4.542747  5.06387  5.68589  6.77131 10.8316
## logit_p[1]   -5.612560 -3.89227 -3.27864 -2.78463 -1.9795
## logit_p[2]   -4.265772 -3.10990 -2.61042 -2.15657 -1.3603
## p[1]          0.003638  0.01999  0.03631  0.05816  0.1214
## p[2]          0.013847  0.04270  0.06847  0.10372  0.2042
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  1.0000
## pMix[1,1]     0.089772  0.26010  0.34750  0.43200  0.6174
## pMix[2,1]     0.078438  0.24481  0.32807  0.41977  0.6124
## pMix[3,1]     0.075354  0.22788  0.31709  0.40284  0.5836
## pMix[1,2]     0.098039  0.25829  0.34730  0.42938  0.6020
## pMix[2,2]     0.097866  0.25234  0.34568  0.43020  0.5977
## pMix[3,2]     0.066213  0.21940  0.31173  0.39423  0.5736</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-17.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-18.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.15&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.17978 1.96492 0.0358744      0.0460277
## logit_p[1]   -3.44547 1.04903 0.0191525      0.0247926
## logit_p[2]   -1.84078 0.58719 0.0107205      0.0138232
## p[1]          0.04449 0.03468 0.0006331      0.0007929
## p[2]          0.15093 0.07084 0.0012933      0.0016348
## p.failure[1]  0.99000 0.09952 0.0018169      0.0018670
## p.failure[2]  0.55267 0.49730 0.0090794      0.0114215
## p.success[1]  0.01000 0.09952 0.0018169      0.0018670
## p.success[2]  0.44733 0.49730 0.0090794      0.0114215
## pMix[1,1]     0.35481 0.13349 0.0024371      0.0025288
## pMix[2,1]     0.32750 0.13281 0.0024247      0.0023612
## pMix[3,1]     0.31769 0.12843 0.0023448      0.0022972
## pMix[1,2]     0.33333 0.13065 0.0023854      0.0023850
## pMix[2,2]     0.35348 0.13265 0.0024218      0.0023865
## pMix[3,2]     0.31319 0.13014 0.0023760      0.0023345
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.123560  5.74189  6.62638  8.10734 12.2263
## logit_p[1]   -5.882755 -4.03267 -3.28065 -2.69228 -1.8979
## logit_p[2]   -3.082508 -2.21053 -1.80978 -1.42804 -0.7770
## p[1]          0.002779  0.01742  0.03624  0.06343  0.1303
## p[2]          0.043835  0.09881  0.14066  0.19341  0.3150
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  1.00000  1.0000
## pMix[1,1]     0.096853  0.26724  0.35607  0.44191  0.6268
## pMix[2,1]     0.081383  0.23486  0.32967  0.41268  0.5988
## pMix[3,1]     0.077989  0.22464  0.31688  0.40410  0.5814
## pMix[1,2]     0.081298  0.24445  0.33829  0.41981  0.5891
## pMix[2,2]     0.108882  0.26446  0.35313  0.43909  0.6230
## pMix[3,2]     0.064338  0.22085  0.31508  0.39821  0.5780</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-19.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-20.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.2&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.35514 2.02290 0.0369329      0.0422212
## logit_p[1]   -3.46728 1.04617 0.0191004      0.0236621
## logit_p[2]   -1.53025 0.53045 0.0096846      0.0119137
## p[1]          0.04424 0.03638 0.0006643      0.0008317
## p[2]          0.19046 0.07716 0.0014087      0.0017369
## p.failure[1]  0.98233 0.13176 0.0024056      0.0028396
## p.failure[2]  0.33467 0.47195 0.0086166      0.0106846
## p.success[1]  0.01767 0.13176 0.0024056      0.0028396
## p.success[2]  0.66533 0.47195 0.0086166      0.0106846
## pMix[1,1]     0.35205 0.13254 0.0024199      0.0024205
## pMix[2,1]     0.32776 0.13214 0.0024126      0.0024112
## pMix[3,1]     0.32020 0.12957 0.0023657      0.0023630
## pMix[1,2]     0.33183 0.13712 0.0025035      0.0025650
## pMix[2,2]     0.35664 0.13243 0.0024178      0.0024782
## pMix[3,2]     0.31153 0.13210 0.0024118      0.0024634
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.275636  5.80810  6.74718  8.28039 12.5888
## logit_p[1]   -5.890092 -4.03528 -3.34279 -2.74249 -1.8149
## logit_p[2]   -2.636961 -1.88531 -1.50511 -1.16848 -0.5412
## p[1]          0.002759  0.01737  0.03413  0.06051  0.1400
## p[2]          0.066797  0.13178  0.18166  0.23713  0.3679
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  1.00000  1.00000  1.0000
## pMix[1,1]     0.086702  0.26194  0.35138  0.43998  0.6157
## pMix[2,1]     0.084782  0.23357  0.32305  0.41736  0.5989
## pMix[3,1]     0.070820  0.22937  0.31903  0.40611  0.5828
## pMix[1,2]     0.080962  0.23723  0.32662  0.41707  0.6196
## pMix[2,2]     0.102896  0.26584  0.35653  0.44466  0.6246
## pMix[3,2]     0.071394  0.21713  0.30839  0.39977  0.5828</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-21.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-22.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.25&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.48787 2.08649 0.0380940      0.0443264
## logit_p[1]   -3.45371 1.05788 0.0193141      0.0229080
## logit_p[2]   -1.26886 0.49080 0.0089608      0.0111935
## p[1]          0.04497 0.03679 0.0006717      0.0008195
## p[2]          0.23038 0.08235 0.0015036      0.0018879
## p.failure[1]  0.98300 0.12929 0.0023605      0.0027772
## p.failure[2]  0.16667 0.37274 0.0068053      0.0077317
## p.success[1]  0.01700 0.12929 0.0023605      0.0027772
## p.success[2]  0.83333 0.37274 0.0068053      0.0077317
## pMix[1,1]     0.35547 0.13617 0.0024861      0.0024839
## pMix[2,1]     0.32396 0.13206 0.0024111      0.0027933
## pMix[3,1]     0.32057 0.13524 0.0024690      0.0024580
## pMix[1,2]     0.32685 0.13239 0.0024170      0.0024580
## pMix[2,2]     0.35779 0.13211 0.0024120      0.0024116
## pMix[3,2]     0.31536 0.12807 0.0023382      0.0024229
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.413066  6.00181  6.84008  8.26786 13.0879
## logit_p[1]   -5.935035 -4.03512 -3.30455 -2.68149 -1.8277
## logit_p[2]   -2.286023 -1.58036 -1.25037 -0.92971 -0.3653
## p[1]          0.002638  0.01738  0.03542  0.06407  0.1385
## p[2]          0.092287  0.17074  0.22264  0.28298  0.4097
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  1.00000  1.00000  1.00000  1.0000
## pMix[1,1]     0.092613  0.26317  0.35383  0.44789  0.6357
## pMix[2,1]     0.083530  0.22950  0.32376  0.41302  0.5936
## pMix[3,1]     0.069595  0.22605  0.31866  0.40789  0.6087
## pMix[1,2]     0.079582  0.23330  0.32769  0.41439  0.5902
## pMix[2,2]     0.109092  0.27165  0.35372  0.43925  0.6427
## pMix[3,2]     0.078256  0.22130  0.31536  0.39830  0.5824</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-23.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-24.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.3&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.466788 1.96884 0.0359460       0.042171
## logit_p[1]   -3.551778 1.03825 0.0189557       0.025276
## logit_p[2]   -0.818371 0.43916 0.0080179       0.009643
## p[1]          0.040314 0.03220 0.0005879       0.000748
## p[2]          0.313620 0.09019 0.0016467       0.001980
## p.failure[1]  0.992667 0.08533 0.0015580       0.001622
## p.failure[2]  0.022333 0.14779 0.0026983       0.002908
## p.success[1]  0.007333 0.08533 0.0015580       0.001622
## p.success[2]  0.977667 0.14779 0.0026983       0.002908
## pMix[1,1]     0.359783 0.13050 0.0023826       0.002363
## pMix[2,1]     0.318758 0.13059 0.0023843       0.002385
## pMix[3,1]     0.321459 0.12864 0.0023485       0.002349
## pMix[1,2]     0.324548 0.13060 0.0023844       0.002418
## pMix[2,2]     0.359579 0.12933 0.0023613       0.002618
## pMix[3,2]     0.315873 0.12685 0.0023160       0.002367
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%     97.5%
## deviance      5.571193  6.07977  6.88873  8.19544 12.831103
## logit_p[1]   -5.943246 -4.09490 -3.39642 -2.82595 -1.955430
## logit_p[2]   -1.713157 -1.10546 -0.80486 -0.52270  0.009368
## p[1]          0.002617  0.01638  0.03241  0.05594  0.123963
## p[2]          0.152755  0.24872  0.30899  0.37222  0.502342
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.000000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  0.000000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.000000
## p.success[2]  1.000000  1.00000  1.00000  1.00000  1.000000
## pMix[1,1]     0.108132  0.27487  0.35841  0.44263  0.636067
## pMix[2,1]     0.074874  0.22637  0.32045  0.40570  0.587241
## pMix[3,1]     0.077171  0.23100  0.32179  0.40537  0.582908
## pMix[1,2]     0.079512  0.23080  0.32443  0.41091  0.593610
## pMix[2,2]     0.113047  0.27360  0.35911  0.44386  0.625921
## pMix[3,2]     0.073088  0.22573  0.31724  0.39713  0.574798</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-25.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-26.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.35&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.534901 2.01048 0.0367061      0.0456141
## logit_p[1]   -3.583156 1.06184 0.0193865      0.0252826
## logit_p[2]   -0.654229 0.42414 0.0077438      0.0098824
## p[1]          0.039587 0.03225 0.0005889      0.0007642
## p[2]          0.348115 0.09195 0.0016787      0.0021372
## p.failure[1]  0.991333 0.09271 0.0016926      0.0017638
## p.failure[2]  0.007667 0.08724 0.0015927      0.0017355
## p.success[1]  0.008667 0.09271 0.0016926      0.0017638
## p.success[2]  0.992333 0.08724 0.0015927      0.0017355
## pMix[1,1]     0.358095 0.12930 0.0023607      0.0023593
## pMix[2,1]     0.323075 0.12884 0.0023523      0.0024514
## pMix[3,1]     0.318830 0.12710 0.0023205      0.0023210
## pMix[1,2]     0.328016 0.13022 0.0023775      0.0025077
## pMix[2,2]     0.359833 0.12725 0.0023232      0.0023728
## pMix[3,2]     0.312151 0.12757 0.0023292      0.0023745
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.633522  6.13472  6.93694  8.22250 12.8855
## logit_p[1]   -5.966614 -4.18943 -3.42161 -2.82708 -1.9587
## logit_p[2]   -1.531805 -0.92951 -0.64474 -0.37403  0.1548
## p[1]          0.002556  0.01493  0.03163  0.05588  0.1236
## p[2]          0.177730  0.28302  0.34418  0.40757  0.5386
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  1.000000  1.00000  1.00000  1.00000  1.0000
## pMix[1,1]     0.113994  0.26819  0.35738  0.44470  0.6268
## pMix[2,1]     0.083666  0.23421  0.32439  0.40807  0.5780
## pMix[3,1]     0.081390  0.23046  0.31891  0.40540  0.5761
## pMix[1,2]     0.081943  0.23529  0.32838  0.41569  0.5806
## pMix[2,2]     0.111109  0.27621  0.36071  0.43906  0.6229
## pMix[3,2]     0.077098  0.22014  0.31440  0.39462  0.5842</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-27.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-28.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.05&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      6.15349 1.62714 0.0297073      0.0328861
## logit_p[1]   -3.41615 0.92709 0.0169263      0.0198145
## logit_p[2]   -2.82899 0.70008 0.0127817      0.0150372
## p[1]          0.04255 0.02978 0.0005437      0.0006287
## p[2]          0.06693 0.04149 0.0007574      0.0009246
## p.failure[1]  0.99500 0.07055 0.0012880      0.0014005
## p.failure[2]  0.95300 0.21167 0.0038646      0.0043440
## p.success[1]  0.00500 0.07055 0.0012880      0.0014005
## p.success[2]  0.04700 0.21167 0.0038646      0.0043440
## pMix[1,1]     0.35432 0.13441 0.0024540      0.0025007
## pMix[2,1]     0.32770 0.13058 0.0023841      0.0025278
## pMix[3,1]     0.31797 0.13006 0.0023746      0.0023730
## pMix[1,2]     0.35049 0.13157 0.0024021      0.0024645
## pMix[2,2]     0.33899 0.13426 0.0024513      0.0024894
## pMix[3,2]     0.31053 0.12825 0.0023415      0.0023906
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      4.566901  5.03009  5.65120  6.75289 10.5126
## logit_p[1]   -5.588902 -3.88853 -3.26395 -2.78548 -2.0198
## logit_p[2]   -4.294578 -3.27285 -2.78049 -2.34554 -1.5590
## p[1]          0.003725  0.02006  0.03683  0.05811  0.1171
## p[2]          0.013459  0.03651  0.05839  0.08742  0.1738
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  1.0000
## pMix[1,1]     0.094572  0.26461  0.35587  0.44123  0.6272
## pMix[2,1]     0.081762  0.23614  0.32717  0.41754  0.5903
## pMix[3,1]     0.075237  0.22369  0.31721  0.40443  0.5861
## pMix[1,2]     0.105462  0.26179  0.35032  0.43128  0.6235
## pMix[2,2]     0.076242  0.24583  0.34133  0.42963  0.6132
## pMix[3,2]     0.078633  0.22060  0.31126  0.39443  0.5820</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-29.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-30.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.1&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      6.77154 1.80686 0.0329885      0.0357236
## logit_p[1]   -3.37471 0.94638 0.0172785      0.0206929
## logit_p[2]   -2.39861 0.63663 0.0116232      0.0131716
## p[1]          0.04501 0.03294 0.0006014      0.0007084
## p[2]          0.09558 0.05111 0.0009332      0.0010671
## p.failure[1]  0.98933 0.10274 0.0018758      0.0019309
## p.failure[2]  0.85533 0.35182 0.0064234      0.0070162
## p.success[1]  0.01067 0.10274 0.0018758      0.0019309
## p.success[2]  0.14467 0.35182 0.0064234      0.0070162
## pMix[1,1]     0.35514 0.13436 0.0024531      0.0027734
## pMix[2,1]     0.32593 0.13064 0.0023852      0.0022797
## pMix[3,1]     0.31893 0.13158 0.0024024      0.0024028
## pMix[1,2]     0.34446 0.13273 0.0024234      0.0023803
## pMix[2,2]     0.34303 0.13270 0.0024228      0.0024214
## pMix[3,2]     0.31252 0.12871 0.0023499      0.0023870
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%     75%   97.5%
## deviance      4.908178  5.50113  6.30630  7.4534 11.6212
## logit_p[1]   -5.640644 -3.86878 -3.24182 -2.7149 -1.9412
## logit_p[2]   -3.739057 -2.79792 -2.36438 -1.9504 -1.2897
## p[1]          0.003538  0.02046  0.03762  0.0621  0.1255
## p[2]          0.023224  0.05744  0.08593  0.1245  0.2159
## p.failure[1]  1.000000  1.00000  1.00000  1.0000  1.0000
## p.failure[2]  0.000000  1.00000  1.00000  1.0000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.0000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.0000  1.0000
## pMix[1,1]     0.101781  0.26041  0.35274  0.4433  0.6290
## pMix[2,1]     0.082105  0.23383  0.32598  0.4123  0.5980
## pMix[3,1]     0.071056  0.22583  0.32019  0.4028  0.5914
## pMix[1,2]     0.090397  0.25383  0.34415  0.4303  0.6109
## pMix[2,2]     0.088797  0.25486  0.34560  0.4261  0.6216
## pMix[3,2]     0.080195  0.22144  0.31299  0.4016  0.5628</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-31.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-32.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.15&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.12630 1.87321 0.0341999      0.0371824
## logit_p[1]   -3.40037 1.01181 0.0184730      0.0216485
## logit_p[2]   -2.05046 0.56105 0.0102432      0.0121783
## p[1]          0.04548 0.03444 0.0006289      0.0007956
## p[2]          0.12572 0.05822 0.0010629      0.0012686
## p.failure[1]  0.98667 0.11472 0.0020944      0.0025285
## p.failure[2]  0.69833 0.45906 0.0083812      0.0096343
## p.success[1]  0.01333 0.11472 0.0020944      0.0025285
## p.success[2]  0.30167 0.45906 0.0083812      0.0096343
## pMix[1,1]     0.35496 0.13256 0.0024203      0.0024200
## pMix[2,1]     0.32875 0.13299 0.0024281      0.0024276
## pMix[3,1]     0.31629 0.12924 0.0023596      0.0023598
## pMix[1,2]     0.33756 0.12972 0.0023684      0.0026440
## pMix[2,2]     0.35274 0.12997 0.0023729      0.0025778
## pMix[3,2]     0.30970 0.13044 0.0023815      0.0024119
## 
## 2. Quantiles for each variable:
## 
##                  2.5%      25%      50%      75%   97.5%
## deviance      5.15782  5.73749  6.56423  8.00659 12.2515
## logit_p[1]   -5.80619 -3.94669 -3.24062 -2.70084 -1.8714
## logit_p[2]   -3.25049 -2.41357 -2.02135 -1.65848 -1.0353
## p[1]          0.00300  0.01895  0.03767  0.06292  0.1334
## p[2]          0.03731  0.08214  0.11698  0.15997  0.2620
## p.failure[1]  1.00000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.00000  0.00000  1.00000  1.00000  1.0000
## p.success[1]  0.00000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.00000  0.00000  0.00000  1.00000  1.0000
## pMix[1,1]     0.10042  0.26771  0.35567  0.43824  0.6293
## pMix[2,1]     0.07817  0.23798  0.32744  0.41500  0.6037
## pMix[3,1]     0.07488  0.22461  0.31543  0.40210  0.5815
## pMix[1,2]     0.08898  0.25014  0.33888  0.42359  0.6038
## pMix[2,2]     0.10655  0.26633  0.35321  0.43722  0.6275
## pMix[3,2]     0.06330  0.21735  0.31303  0.39811  0.5626</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-33.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-34.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.2&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.51995 2.09611 0.0382695      0.0442368
## logit_p[1]   -3.49810 1.04785 0.0191311      0.0242633
## logit_p[2]   -1.51293 0.48993 0.0089448      0.0107133
## p[1]          0.04293 0.03525 0.0006435      0.0008445
## p[2]          0.19125 0.07112 0.0012985      0.0015507
## p.failure[1]  0.98700 0.11329 0.0020684      0.0022806
## p.failure[2]  0.30433 0.46020 0.0084021      0.0099056
## p.success[1]  0.01300 0.11329 0.0020684      0.0022806
## p.success[2]  0.69567 0.46020 0.0084021      0.0099056
## pMix[1,1]     0.35438 0.13198 0.0024097      0.0026000
## pMix[2,1]     0.32600 0.13121 0.0023955      0.0024357
## pMix[3,1]     0.31962 0.12926 0.0023599      0.0023168
## pMix[1,2]     0.33227 0.13285 0.0024255      0.0024258
## pMix[2,2]     0.35757 0.13427 0.0024515      0.0025148
## pMix[3,2]     0.31016 0.12942 0.0023629      0.0023299
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.459007  6.01171  6.90559  8.35627 13.0404
## logit_p[1]   -5.904076 -4.08942 -3.36761 -2.75035 -1.8775
## logit_p[2]   -2.557100 -1.82899 -1.47191 -1.17673 -0.6364
## p[1]          0.002721  0.01647  0.03332  0.06007  0.1327
## p[2]          0.071951  0.13836  0.18665  0.23564  0.3461
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  1.00000  1.00000  1.0000
## pMix[1,1]     0.100235  0.26591  0.35196  0.43963  0.6194
## pMix[2,1]     0.073646  0.23296  0.33121  0.41463  0.5846
## pMix[3,1]     0.076792  0.23243  0.32067  0.40514  0.5714
## pMix[1,2]     0.079867  0.24198  0.33175  0.42017  0.6107
## pMix[2,2]     0.100379  0.26717  0.35390  0.44324  0.6337
## pMix[3,2]     0.067777  0.21934  0.31004  0.39768  0.5755</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-35.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-36.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.25&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.67111 2.06794 0.0377552      0.0452377
## logit_p[1]   -3.53869 1.06040 0.0193602      0.0250655
## logit_p[2]   -1.09811 0.43626 0.0079649      0.0107374
## p[1]          0.04150 0.03381 0.0006173      0.0007729
## p[2]          0.25857 0.07987 0.0014582      0.0020395
## p.failure[1]  0.98833 0.10740 0.0019608      0.0021358
## p.failure[2]  0.07667 0.26611 0.0048584      0.0051985
## p.success[1]  0.01167 0.10740 0.0019608      0.0021358
## p.success[2]  0.92333 0.26611 0.0048584      0.0051985
## pMix[1,1]     0.35512 0.13312 0.0024304      0.0024228
## pMix[2,1]     0.32560 0.13093 0.0023905      0.0023913
## pMix[3,1]     0.31928 0.12846 0.0023454      0.0023450
## pMix[1,2]     0.33081 0.13321 0.0024321      0.0026290
## pMix[2,2]     0.35625 0.13136 0.0023983      0.0023990
## pMix[3,2]     0.31294 0.12851 0.0023463      0.0023464
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%     50%      75%   97.5%
## deviance      5.655377  6.18016  7.0106  8.50728 13.1739
## logit_p[1]   -6.092214 -4.09947 -3.3807 -2.79585 -1.9140
## logit_p[2]   -2.005791 -1.37620 -1.0871 -0.80371 -0.2969
## p[1]          0.002255  0.01631  0.0329  0.05755  0.1285
## p[2]          0.118596  0.20162  0.2522  0.30923  0.4263
## p.failure[1]  1.000000  1.00000  1.0000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.0000  0.00000  1.0000
## p.success[1]  0.000000  0.00000  0.0000  0.00000  0.0000
## p.success[2]  0.000000  1.00000  1.0000  1.00000  1.0000
## pMix[1,1]     0.100588  0.26223  0.3519  0.44457  0.6345
## pMix[2,1]     0.084637  0.23217  0.3248  0.40851  0.5942
## pMix[3,1]     0.080586  0.22849  0.3193  0.40648  0.5761
## pMix[1,2]     0.079855  0.23996  0.3324  0.41590  0.6111
## pMix[2,2]     0.093618  0.26866  0.3571  0.43972  0.6241
## pMix[3,2]     0.073398  0.22196  0.3149  0.39583  0.5690</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-37.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-38.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.3&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.61439 2.01213 0.0367364      0.0435162
## logit_p[1]   -3.58730 1.03924 0.0189738      0.0262868
## logit_p[2]   -0.91678 0.40188 0.0073372      0.0090640
## p[1]          0.03956 0.03359 0.0006133      0.0008198
## p[2]          0.29232 0.08054 0.0014704      0.0018248
## p.failure[1]  0.98800 0.10890 0.0019883      0.0022408
## p.failure[2]  0.02367 0.15203 0.0027757      0.0030625
## p.success[1]  0.01200 0.10890 0.0019883      0.0022408
## p.success[2]  0.97633 0.15203 0.0027757      0.0030625
## pMix[1,1]     0.35602 0.13181 0.0024066      0.0024941
## pMix[2,1]     0.32909 0.13151 0.0024010      0.0024660
## pMix[3,1]     0.31489 0.12991 0.0023719      0.0024938
## pMix[1,2]     0.32396 0.13083 0.0023887      0.0024320
## pMix[2,2]     0.36221 0.13175 0.0024055      0.0024791
## pMix[3,2]     0.31384 0.13099 0.0023915      0.0023911
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.714618  6.20874  6.98505  8.34612 13.2713
## logit_p[1]   -5.949869 -4.18052 -3.45303 -2.85334 -1.9263
## logit_p[2]   -1.718555 -1.18574 -0.90712 -0.64011 -0.1418
## p[1]          0.002599  0.01506  0.03068  0.05451  0.1272
## p[2]          0.152057  0.23402  0.28759  0.34522  0.4646
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  1.000000  1.00000  1.00000  1.00000  1.0000
## pMix[1,1]     0.102020  0.26754  0.35312  0.43892  0.6242
## pMix[2,1]     0.085624  0.23863  0.32615  0.41599  0.5991
## pMix[3,1]     0.071457  0.22155  0.31410  0.39862  0.5789
## pMix[1,2]     0.075270  0.23306  0.32391  0.40980  0.5933
## pMix[2,2]     0.109199  0.27580  0.36266  0.44656  0.6335
## pMix[3,2]     0.073228  0.21668  0.31692  0.40391  0.5753</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-39.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-40.png" width="672" /></p>
<pre><code>## [1] &quot;Observed ORR = 0.35&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 18
##    Total graph size: 77
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.699199 1.97262 0.0360149      0.0442280
## logit_p[1]   -3.574952 1.05155 0.0191986      0.0272729
## logit_p[2]   -0.754185 0.39018 0.0071236      0.0093092
## p[1]          0.040360 0.03461 0.0006318      0.0008523
## p[2]          0.325632 0.08258 0.0015078      0.0019961
## p.failure[1]  0.985667 0.11888 0.0021705      0.0024521
## p.failure[2]  0.008667 0.09271 0.0016926      0.0018854
## p.success[1]  0.014333 0.11888 0.0021705      0.0024521
## p.success[2]  0.991333 0.09271 0.0016926      0.0018854
## pMix[1,1]     0.363622 0.13315 0.0024309      0.0025747
## pMix[2,1]     0.318159 0.13038 0.0023805      0.0024170
## pMix[3,1]     0.318219 0.13236 0.0024165      0.0024167
## pMix[1,2]     0.320308 0.13218 0.0024134      0.0023222
## pMix[2,2]     0.364772 0.13034 0.0023797      0.0024642
## pMix[3,2]     0.314920 0.12854 0.0023468      0.0023920
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%    97.5%
## deviance      5.774255  6.29524  7.06521  8.45208 12.96128
## logit_p[1]   -6.053732 -4.15319 -3.48013 -2.82899 -1.89675
## logit_p[2]   -1.550049 -1.00932 -0.74798 -0.47742 -0.01831
## p[1]          0.002344  0.01547  0.02988  0.05578  0.13048
## p[2]          0.175079  0.26711  0.32126  0.38286  0.49542
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.00000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  0.00000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.00000
## p.success[2]  1.000000  1.00000  1.00000  1.00000  1.00000
## pMix[1,1]     0.113063  0.27295  0.36315  0.45091  0.63799
## pMix[2,1]     0.072430  0.22503  0.32040  0.40435  0.57811
## pMix[3,1]     0.068938  0.22782  0.31934  0.40448  0.59139
## pMix[1,2]     0.075818  0.22416  0.31885  0.40934  0.58430
## pMix[2,2]     0.113651  0.27607  0.36069  0.45034  0.63686
## pMix[3,2]     0.076868  0.22299  0.31216  0.39974  0.57998</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-41.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-3-42.png" width="672" /></p>
<pre class="r"><code>### Run MCMC</code></pre>
</div>
<div
id="winbugs-model-for-binary-exnex-model-with-fixed-mixture-weights"
class="section level3" number="0.2.3">
<h3><span class="header-section-number">0.2.3</span> WinBUGs model for
binary EXNEX model with fixed mixture weights</h3>
<p>This is based on section 5.3 of <a
href="https://onlinelibrary.wiley.com/action/downloadSupplement?doi=10.1002%2Fpst.1730&amp;file=pst1730-sup-0001-supplementary.pdf"
class="uri">https://onlinelibrary.wiley.com/action/downloadSupplement?doi=10.1002%2Fpst.1730&amp;file=pst1730-sup-0001-supplementary.pdf</a></p>
<p>Original paper is <a
href="https://onlinelibrary.wiley.com/doi/epdf/10.1002/pst.1730"
class="uri">https://onlinelibrary.wiley.com/doi/epdf/10.1002/pst.1730</a></p>
<pre class="r"><code>### Model definition when mixture weights are stochastic
binary_exnex_model_fw &lt;- function() {
## Data to be specify in the input
#-------------------------------------------------------------------------------

# Nexch        - number of exchangeable components
# Nmix         - number of mixture weights and must be Nexch+1
# Nstrata      - number of strata e.g. studies or cohort (in platform trial)
# n            - vector of Nstrata elements storing patient numbers for each stratum
# r            - vector of Nstrata elements storing response numbers for each stratum

# mu.mean      - vector of Nexch prior mean(s)
# mu.prec      - vector of Nexch prior precision(s)
# tau.HN.scale - scale parameter of Half-Normal prior for tau
# ------- no longer needed -----------------------------------------------------
# nex.mean     - prior mean for non-exchangeable component
# nex.prec     - prior precision for non-exchangeable component
# ------- end of no longer needed ----------------------------------------------
# p.cut        - clinically relevant threshold for response rate to compare against
  
## Parameter(s) to be monitored
# p            - posterior response rate
# logit_p      - logit(p) i.e. log odd
# p.success    - posterior indicator if p &gt; p.cut
# p.failure    - posterior indicator if p &lt; p.cut
# pMix         - posterior mixture weight to test for &quot;exchangeability&quot;

#-------------------------------------------------------------------------------
  
  # prior distributions for EX-parameters
  for (jj in 1:Nexch) {
    mu[jj] ~dnorm(mu.mean[jj],mu.prec[jj])
    prior.tau.prec[jj] &lt;- pow(tau.HN.scale[jj],-2)
    tau[jj] ~ dnorm(0,prior.tau.prec[jj]);I(0.001,)
    prec.tau[jj] &lt;- pow(tau[jj],-2)
  }
  
  # log-odds parameters under EX
  for (jj in 1:Nexch) {
    for (j in 1:Nstrata) {
      re[jj,j] ~ dnorm(0,prec.tau[jj])
      LogOdds[jj,j] &lt;- mu[jj]+re[jj,j]
    }
  }
  
  # log-odds parameters under NEX
  for (j in 1:Nstrata) {
    #p_Nmix[j] ~ dbeta(2,2) # slight mod to have flat prior
    #LogOdds[Nmix,j] ~ dnorm(nex.mean,nex.prec)#&lt;- logit(p_Nmix[j])#

    # LogOdds[Nmix,j] ~ dt(0, 2, 1) #Student&#39;s t-distribution becomes the Cauchy distribution when the degrees of freedom is equal to one
    LogOdds[Nmix,j] ~ dunif(-20, 20)
    
  }
  
  # latent mixture indicators:
  # exch.index: categorial 1,...,Nmix=Nexch+1
  # exch: Nstrata x Nmix matrix of 0/1 elements
  for (j in 1:Nstrata) {
    exch.index[j] ~ dcat(pMix[1:Nmix,j])
    for (jj in 1:Nmix) {
      exch[j,jj] &lt;- equals(exch.index[j],jj)
    }
  }
  
  # pick theta
  for (j in 1:Nstrata) {
    theta[j] &lt;- LogOdds[exch.index[j],j]
  }
  
  # likelihood part
  for (i in 1:Nstrata) {
    logit( p[i] ) &lt;- theta[i]
    p.success[i]  &lt;- step(p[i]-p.cut)
    p.failure[i]  &lt;- step(p.cut-p[i])
    r[i] ~ dbin(p[i],n[i])
    logit_p[i] &lt;- theta[i]
  }

  
} # end of binary_exnex_model_fw

write.model(binary_exnex_model_fw, &#39;binary_exnex_model_fw.bug&#39;)

### Parameters to monitor
parameters_binary_exnex_model_fw &lt;- c(&#39;p&#39;, &#39;logit_p&#39;, &#39;p.success&#39;, &#39;p.failure&#39;)

### Data similar to above with only difference in pMix

# data_binary_exnex_model_fw_pes &lt;- binary_exnex_jag_fw_pes &lt;- binary_exnex_mcmc_fw_pes &lt;-
# data_binary_exnex_model_fw_opt &lt;- binary_exnex_jag_fw_opt &lt;- binary_exnex_mcmc_fw_opt &lt;-
# data_binary_exnex_model_fw_neu &lt;- binary_exnex_jag_fw_neu &lt;- binary_exnex_mcmc_fw_neu &lt;-list()
data_binary_exnex_model_fw &lt;- binary_exnex_jag_fw &lt;- binary_exnex_mcmc_fw &lt;- list()

priors &lt;- c(&#39;Pessimistic&#39;, &#39;Optimistic&#39;, &#39;Neutral&#39;)
colors &lt;- c(&#39;gray&#39;, &#39;green&#39;, &#39;blue&#39;)
nsim &lt;- 2e4

## Run JAGs
for (prior in priors) {
  data_binary_exnex_model_fw[[prior]] &lt;- binary_exnex_jag_fw[[prior]] &lt;-
  binary_exnex_mcmc_fw[[prior]]       &lt;- list()
  
  pMix &lt;- 
  case_when(
    prior==&#39;Pessimistic&#39; ~ c(1,0,0),
    prior==&#39;Optimistic&#39;  ~ c(0,1,0),
    prior==&#39;Neutral&#39;     ~ c(0,0,1)
  )
  
  pMix &lt;- pMix %&gt;% rep(Nmix) %&gt;% matrix(nrow=Nmix, byrow = F)
  for (id0 in 1:length(npt)) {
    
    data_binary_exnex_model_fw[[prior]][[id0]] &lt;- binary_exnex_jag_fw[[prior]][[id0]] &lt;-
    binary_exnex_mcmc_fw[[prior]][[id0]]       &lt;- list()   
    
    for (id in 1:length(obs.orrs)) {
      print(paste0(prior, &#39;Prior and Observed ORR = &#39;, obs.orrs[id]))
      
      orr &lt;- obs.orrs[id]
      n   &lt;- c(data.use$n_a, npt[id0])
      r   &lt;- c(data.use$res_a, orr*npt[id0]) %&gt;% round
      
      Nstrata &lt;- n %&gt;% length
      
      data_binary_exnex_model_fw[[prior]][[id0]][[id]] &lt;- list(
        pMix=pMix, Nexch=Nexch, Nmix=Nmix, Nstrata=Nstrata, n=n, r=r, 
        mu.mean=mu.mean, mu.prec=mu.prec, tau.HN.scale=tau.HN.scale,
        # nex.mean=nex.mean, nex.prec=nex.prec, 
        p.cut=p.cut
        )
      
      ### Inits
      inits_binary_exnex_model_fw &lt;- function() {
  
        list(
          &quot;mu&quot;=rnorm(Nexch),
          &quot;tau&quot;=rnorm(Nexch) %&gt;% abs
          )  
      } # end of inits_binary_exnex_model_fw  
      
      #### JAGS
      set.seed(36)
      binary_exnex_jag_fw[[prior]][[id0]][[id]] &lt;- jags(
        data = data_binary_exnex_model_fw[[prior]][[id0]][[id]], 
        inits = inits_binary_exnex_model_fw, 
        parameters.to.save = parameters_binary_exnex_model_fw,
        model.file = &quot;binary_exnex_model_fw.bug&quot;,
        n.chains=3, n.iter=1e4, n.burnin=5e3)
      # print(binary_exnex_jag_fw[[prior]])
      
      binary_exnex_mcmc_fw[[prior]][[id0]][[id]] &lt;- binary_exnex_jag_fw[[prior]][[id0]][[id]] %&gt;% as.mcmc.rjags
      binary_exnex_mcmc_fw[[prior]][[id0]][[id]] %&gt;% summary %&gt;% print
      
      ### Credible interval for selected parameters
      mcmcplots::caterplot(binary_exnex_jag_fw[[prior]][[id0]][[id]], parms = c(&#39;p&#39;))  
      
      ### Density plot for posterior logit alone
      par(ask=F)
      mcmcplots::denplot(binary_exnex_jag_fw[[prior]][[id0]][[id]], parms = c(paste0(&#39;logit_p[&#39;, Nstrata, &#39;]&#39;)), collapse = T, lwd=2,xlim=c(-15,15), style =&#39;plain&#39;, main=&#39;Posterior distribution of true ORR&#39;, frame.plot=F)
      # axis(1, seq(-15,15,5),
      #      labels=inv.logit(seq(-15,15,5)) %&gt;% round(4), line=7)
      # mtext(&quot;ORR&quot;,1,line=9,at=0)    
      
    } # end of for (id in 1:length(obs.orrs))      
  } # end of for (id0 in 1:length(npt))

} # end of for (prior in priors)</code></pre>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.05&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      5.226335 1.38441 0.0252758       0.066243
## logit_p[1]   -3.497976 0.84723 0.0154683       0.061010
## logit_p[2]   -3.350508 0.86769 0.0158417       0.052457
## p[1]          0.038425 0.02701 0.0004931       0.001454
## p[2]          0.045268 0.03524 0.0006433       0.001791
## p.failure[1]  0.997667 0.04826 0.0008810       0.001096
## p.failure[2]  0.982000 0.13297 0.0024277       0.004325
## p.success[1]  0.002333 0.04826 0.0008810       0.001096
## p.success[2]  0.018000 0.13297 0.0024277       0.004325
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      3.959991  4.25431  4.75030  5.73778  9.0165
## logit_p[1]   -5.562852 -3.97770 -3.41050 -2.88232 -2.1574
## logit_p[2]   -5.335070 -3.85922 -3.27141 -2.74618 -1.8329
## p[1]          0.003823  0.01838  0.03197  0.05303  0.1036
## p[2]          0.004796  0.02065  0.03657  0.06030  0.1379
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  0.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-1.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-2.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.1&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      6.43327 1.74235 0.0318107       0.078507
## logit_p[1]   -3.21407 0.73293 0.0133814       0.049341
## logit_p[2]   -2.79767 0.75408 0.0137676       0.040875
## p[1]          0.04778 0.03184 0.0005814       0.001976
## p[2]          0.07081 0.04726 0.0008628       0.002315
## p.failure[1]  0.98967 0.10114 0.0018466       0.003100
## p.failure[2]  0.93267 0.25064 0.0045760       0.007920
## p.success[1]  0.01033 0.10114 0.0018466       0.003100
## p.success[2]  0.06733 0.25064 0.0045760       0.007920
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      4.544561  5.25369  5.97526  7.04384 11.0527
## logit_p[1]   -4.813487 -3.66747 -3.17681 -2.69354 -1.9056
## logit_p[2]   -4.350410 -3.29453 -2.75106 -2.25776 -1.4239
## p[1]          0.008054  0.02490  0.04005  0.06336  0.1295
## p[2]          0.012737  0.03576  0.06003  0.09468  0.1941
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-3.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-4.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.15&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.30792 1.94754 0.0355570       0.084732
## logit_p[1]   -3.21095 0.93645 0.0170972       0.087191
## logit_p[2]   -2.29593 0.66539 0.0121483       0.029766
## p[1]          0.05159 0.03508 0.0006405       0.002419
## p[2]          0.10613 0.06194 0.0011309       0.002710
## p.failure[1]  0.98667 0.11472 0.0020944       0.003412
## p.failure[2]  0.79767 0.40181 0.0073359       0.013248
## p.success[1]  0.01333 0.11472 0.0020944       0.003412
## p.success[2]  0.20233 0.40181 0.0073359       0.013248
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      4.889951  5.82866  7.06983  8.21898 12.2946
## logit_p[1]   -5.652318 -3.63763 -3.03274 -2.56888 -1.8650
## logit_p[2]   -3.659225 -2.74432 -2.29244 -1.83276 -1.0278
## p[1]          0.003497  0.02564  0.04597  0.07117  0.1341
## p[2]          0.025106  0.06041  0.09175  0.13791  0.2635
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-5.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-6.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.2&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.74576 2.22906 0.0406969       0.087843
## logit_p[1]   -3.09789 0.85405 0.0155927       0.062827
## logit_p[2]   -1.88967 0.61648 0.0112553       0.024593
## p[1]          0.05583 0.03789 0.0006918       0.002156
## p[2]          0.14648 0.07348 0.0013416       0.003003
## p.failure[1]  0.97500 0.15615 0.0028509       0.006022
## p.failure[2]  0.58567 0.49269 0.0089952       0.018163
## p.success[1]  0.02500 0.15615 0.0028509       0.006022
## p.success[2]  0.41433 0.49269 0.0089952       0.018163
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.093642  5.95226  7.23951  9.13057 12.9189
## logit_p[1]   -5.223286 -3.57777 -2.97792 -2.49195 -1.7367
## logit_p[2]   -3.116517 -2.29679 -1.87341 -1.46228 -0.7445
## p[1]          0.005361  0.02718  0.04843  0.07642  0.1497
## p[2]          0.042431  0.09139  0.13315  0.18812  0.3220
## p.failure[1]  0.975000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0250
## p.success[2]  0.000000  0.00000  0.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-7.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-8.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.25&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean     SD  Naive SE Time-series SE
## deviance      7.96623 2.5869 0.0472302       0.106187
## logit_p[1]   -3.14384 0.8798 0.0160620       0.063204
## logit_p[2]   -1.52255 0.5994 0.0109426       0.022984
## p[1]          0.05468 0.0394 0.0007194       0.002501
## p[2]          0.19482 0.0872 0.0015920       0.003121
## p.failure[1]  0.97200 0.1650 0.0030125       0.005927
## p.failure[2]  0.33900 0.4734 0.0086440       0.014857
## p.success[1]  0.02800 0.1650 0.0030125       0.005927
## p.success[2]  0.66100 0.4734 0.0086440       0.014857
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%     75%   97.5%
## deviance      5.227580  5.99368  7.15534  9.3859 14.4018
## logit_p[1]   -5.171049 -3.66102 -3.03071 -2.5066 -1.7159
## logit_p[2]   -2.757863 -1.91584 -1.47733 -1.1106 -0.4373
## p[1]          0.005647  0.02506  0.04606  0.0754  0.1524
## p[2]          0.059644  0.12833  0.18583  0.2478  0.3924
## p.failure[1]  0.000000  1.00000  1.00000  1.0000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  1.0000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.0000  1.0000
## p.success[2]  0.000000  0.00000  1.00000  1.0000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-9.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-10.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.3&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.04409 2.56359 0.0468045       0.096413
## logit_p[1]   -3.10957 0.91279 0.0166652       0.071329
## logit_p[2]   -1.21299 0.53830 0.0098280       0.018691
## p[1]          0.05690 0.04013 0.0007326       0.002439
## p[2]          0.24208 0.09245 0.0016880       0.003085
## p.failure[1]  0.97067 0.16877 0.0030813       0.004917
## p.failure[2]  0.16467 0.37094 0.0067724       0.010943
## p.success[1]  0.02933 0.16877 0.0030813       0.004917
## p.success[2]  0.83533 0.37094 0.0067724       0.010943
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.346497  6.12514  7.25554  9.17804 14.6461
## logit_p[1]   -5.216117 -3.64042 -2.96463 -2.45536 -1.6978
## logit_p[2]   -2.365457 -1.55090 -1.18652 -0.84656 -0.2135
## p[1]          0.005399  0.02557  0.04905  0.07905  0.1548
## p[2]          0.085845  0.17496  0.23388  0.30016  0.4468
## p.failure[1]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[2]  0.000000  1.00000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-11.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-12.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.35&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD Naive SE Time-series SE
## deviance      8.04992 2.69714 0.049243       0.106801
## logit_p[1]   -3.16115 0.87391 0.015955       0.061033
## logit_p[2]   -0.95434 0.52389 0.009565       0.017359
## p[1]          0.05397 0.03976 0.000726       0.002418
## p[2]          0.28935 0.10141 0.001851       0.003326
## p.failure[1]  0.97100 0.16783 0.003064       0.005412
## p.failure[2]  0.07400 0.26181 0.004780       0.006825
## p.success[1]  0.02900 0.16783 0.003064       0.005412
## p.success[2]  0.92600 0.26181 0.004780       0.006825
## 
## 2. Quantiles for each variable:
## 
##                   2.5%     25%      50%      75%    97.5%
## deviance      5.410558  6.1215  7.15489  9.08203 15.75000
## logit_p[1]   -5.038565 -3.7012 -3.06632 -2.51738 -1.69603
## logit_p[2]   -2.010895 -1.2987 -0.93078 -0.59454  0.02834
## p[1]          0.006441  0.0241  0.04452  0.07465  0.15498
## p[2]          0.118064  0.2144  0.28277  0.35559  0.50708
## p.failure[1]  0.000000  1.0000  1.00000  1.00000  1.00000
## p.failure[2]  0.000000  0.0000  0.00000  0.00000  1.00000
## p.success[1]  0.000000  0.0000  0.00000  0.00000  1.00000
## p.success[2]  0.000000  1.0000  1.00000  1.00000  1.00000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-13.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-14.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.05&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      5.405906 1.67297 0.0305441      0.1275003
## logit_p[1]   -3.795333 0.95280 0.0173957      0.0793445
## logit_p[2]   -3.661154 0.94240 0.0172058      0.0677200
## p[1]          0.030974 0.02490 0.0004547      0.0017029
## p[2]          0.035284 0.02966 0.0005415      0.0020137
## p.failure[1]  0.998333 0.04080 0.0007449      0.0008867
## p.failure[2]  0.992667 0.08533 0.0015580      0.0030820
## p.success[1]  0.001667 0.04080 0.0007449      0.0008867
## p.success[2]  0.007333 0.08533 0.0015580      0.0030820
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%    97.5%
## deviance      3.960254  4.26397  4.83022  5.93179  9.83189
## logit_p[1]   -6.002395 -4.34739 -3.68399 -3.12423 -2.24415
## logit_p[2]   -5.732089 -4.22765 -3.58915 -2.99745 -2.05072
## p[1]          0.002467  0.01278  0.02451  0.04212  0.09586
## p[2]          0.003230  0.01438  0.02688  0.04754  0.11398
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.00000
## p.failure[2]  1.000000  1.00000  1.00000  1.00000  1.00000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.00000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  0.00000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-15.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-16.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.1&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      6.18686 1.62770 0.0297176       0.090337
## logit_p[1]   -3.32898 0.74388 0.0135813       0.052031
## logit_p[2]   -2.98604 0.72397 0.0132179       0.041677
## p[1]          0.04261 0.02666 0.0004868       0.001597
## p[2]          0.05852 0.03774 0.0006890       0.001890
## p.failure[1]  0.99700 0.05470 0.0009987       0.001308
## p.failure[2]  0.96733 0.17779 0.0032460       0.006313
## p.success[1]  0.00300 0.05470 0.0009987       0.001308
## p.success[2]  0.03267 0.17779 0.0032460       0.006313
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      4.555984  5.15490  5.70730  6.71055 10.3996
## logit_p[1]   -5.053143 -3.74295 -3.24753 -2.81646 -2.1038
## logit_p[2]   -4.501058 -3.41278 -2.94439 -2.50831 -1.6618
## p[1]          0.006349  0.02314  0.03742  0.05644  0.1087
## p[2]          0.010975  0.03190  0.05000  0.07528  0.1595
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-17.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-18.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.15&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.56786 2.01209 0.0367355       0.085889
## logit_p[1]   -3.04971 0.76696 0.0140028       0.050516
## logit_p[2]   -2.13408 0.57260 0.0104543       0.023288
## p[1]          0.05602 0.03520 0.0006427       0.001996
## p[2]          0.11766 0.05743 0.0010485       0.002261
## p.failure[1]  0.98267 0.13053 0.0023832       0.003428
## p.failure[2]  0.74533 0.43575 0.0079556       0.013615
## p.success[1]  0.01733 0.13053 0.0023832       0.003428
## p.success[2]  0.25467 0.43575 0.0079556       0.013615
## 
## 2. Quantiles for each variable:
## 
##                  2.5%      25%      50%      75%   97.5%
## deviance      5.14243  5.95806  7.17979  8.65099 12.5585
## logit_p[1]   -4.81145 -3.50225 -2.94612 -2.50321 -1.8144
## logit_p[2]   -3.28454 -2.52095 -2.11888 -1.72786 -1.0511
## p[1]          0.00807  0.02925  0.04992  0.07563  0.1401
## p[2]          0.03611  0.07440  0.10728  0.15086  0.2590
## p.failure[1]  1.00000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.00000  0.00000  1.00000  1.00000  1.0000
## p.success[1]  0.00000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.00000  0.00000  0.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-19.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-20.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.2&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.94639 2.24033 0.0409027       0.079345
## logit_p[1]   -3.10794 0.88261 0.0161142       0.068971
## logit_p[2]   -1.80131 0.54576 0.0099642       0.022674
## p[1]          0.05619 0.03888 0.0007098       0.002108
## p[2]          0.15410 0.06815 0.0012442       0.002701
## p.failure[1]  0.97467 0.15716 0.0028694       0.003983
## p.failure[2]  0.52467 0.49947 0.0091191       0.017475
## p.success[1]  0.02533 0.15716 0.0028694       0.003983
## p.success[2]  0.47533 0.49947 0.0091191       0.017475
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.303766  6.11805  7.41032  9.26222 13.3767
## logit_p[1]   -5.178764 -3.59424 -2.98337 -2.48142 -1.7345
## logit_p[2]   -2.918070 -2.17036 -1.77188 -1.42587 -0.7777
## p[1]          0.005603  0.02675  0.04818  0.07717  0.1500
## p[2]          0.051267  0.10244  0.14531  0.19374  0.3148
## p.failure[1]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[2]  0.000000  0.00000  0.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-21.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-22.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.25&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.03504 2.38354 0.0435172       0.093733
## logit_p[1]   -3.11877 0.86432 0.0157803       0.062701
## logit_p[2]   -1.49237 0.53511 0.0097698       0.020216
## p[1]          0.05512 0.03756 0.0006857       0.002265
## p[2]          0.19642 0.08057 0.0014711       0.002995
## p.failure[1]  0.97900 0.14341 0.0026183       0.004102
## p.failure[2]  0.32533 0.46858 0.0085550       0.015110
## p.success[1]  0.02100 0.14341 0.0026183       0.004102
## p.success[2]  0.67467 0.46858 0.0085550       0.015110
## 
## 2. Quantiles for each variable:
## 
##                  2.5%      25%      50%      75%   97.5%
## deviance      5.44424  6.15102  7.35989  9.30940 13.8563
## logit_p[1]   -5.04354 -3.62984 -3.00129 -2.48769 -1.7768
## logit_p[2]   -2.54856 -1.86642 -1.46783 -1.09736 -0.5105
## p[1]          0.00641  0.02584  0.04737  0.07673  0.1447
## p[2]          0.07252  0.13396  0.18727  0.25024  0.3751
## p.failure[1]  1.00000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.00000  0.00000  0.00000  1.00000  1.0000
## p.success[1]  0.00000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.00000  0.00000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-23.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-24.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.3&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.04575 2.47849 0.0452509       0.091992
## logit_p[1]   -3.18013 0.93747 0.0171158       0.072325
## logit_p[2]   -1.01734 0.45801 0.0083621       0.015115
## p[1]          0.05382 0.03871 0.0007068       0.002398
## p[2]          0.27463 0.08657 0.0015805       0.002865
## p.failure[1]  0.97233 0.16404 0.0029950       0.005455
## p.failure[2]  0.06467 0.24598 0.0044909       0.005934
## p.success[1]  0.02767 0.16404 0.0029950       0.005455
## p.success[2]  0.93533 0.24598 0.0044909       0.005934
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.601038  6.26045  7.26606  9.03326 14.8067
## logit_p[1]   -5.328739 -3.69391 -3.02126 -2.52882 -1.7114
## logit_p[2]   -1.953314 -1.31469 -0.99709 -0.69223 -0.1938
## p[1]          0.004827  0.02427  0.04647  0.07386  0.1530
## p[2]          0.124192  0.21170  0.26951  0.33354  0.4517
## p.failure[1]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[2]  0.000000  1.00000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-25.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-26.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.35&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.09193 2.44373 0.0446162       0.094739
## logit_p[1]   -3.13402 0.91332 0.0166749       0.070846
## logit_p[2]   -0.80581 0.43868 0.0080092       0.013286
## p[1]          0.05575 0.03966 0.0007241       0.002396
## p[2]          0.31622 0.09059 0.0016539       0.002683
## p.failure[1]  0.96900 0.17335 0.0031649       0.005670
## p.failure[2]  0.02233 0.14779 0.0026983       0.003691
## p.success[1]  0.03100 0.17335 0.0031649       0.005670
## p.success[2]  0.97767 0.14779 0.0026983       0.003691
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%    97.5%
## deviance      5.637724  6.32052  7.35530  9.10653 14.90641
## logit_p[1]   -5.300515 -3.62683 -2.99100 -2.49877 -1.69484
## logit_p[2]   -1.702566 -1.09025 -0.78458 -0.51648  0.01957
## p[1]          0.004964  0.02591  0.04783  0.07594  0.15514
## p[2]          0.154130  0.25157  0.31333  0.37367  0.50489
## p.failure[1]  0.000000  1.00000  1.00000  1.00000  1.00000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  0.00000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  1.00000
## p.success[2]  1.000000  1.00000  1.00000  1.00000  1.00000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-27.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-28.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.05&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      6.026362 1.42651 0.0260444      0.0692605
## logit_p[1]   -3.337595 0.71977 0.0131411      0.0467187
## logit_p[2]   -3.072035 0.68377 0.0124839      0.0402796
## p[1]          0.042061 0.02643 0.0004825      0.0015855
## p[2]          0.053195 0.03316 0.0006055      0.0016520
## p.failure[1]  0.998667 0.03650 0.0006663      0.0006662
## p.failure[2]  0.983000 0.12929 0.0023605      0.0039628
## p.success[1]  0.001333 0.03650 0.0006663      0.0006662
## p.success[2]  0.017000 0.12929 0.0023605      0.0039628
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      4.583531  5.02796  5.59227  6.57532 10.1002
## logit_p[1]   -4.890360 -3.80136 -3.25464 -2.83006 -2.1292
## logit_p[2]   -4.559755 -3.52218 -3.01674 -2.60673 -1.8475
## p[1]          0.007463  0.02185  0.03716  0.05572  0.1063
## p[2]          0.010356  0.02869  0.04668  0.06871  0.1362
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  0.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-29.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-30.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.1&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      6.91706 1.85310 0.0338329       0.088710
## logit_p[1]   -3.21546 0.79021 0.0144272       0.056934
## logit_p[2]   -2.63650 0.64455 0.0117678       0.033740
## p[1]          0.04852 0.03133 0.0005719       0.001988
## p[2]          0.07762 0.04350 0.0007941       0.001963
## p.failure[1]  0.99200 0.08910 0.0016267       0.002412
## p.failure[2]  0.93267 0.25064 0.0045760       0.008584
## p.success[1]  0.00800 0.08910 0.0016267       0.002412
## p.success[2]  0.06733 0.25064 0.0045760       0.008584
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%     75%   97.5%
## deviance      4.934745  5.70991  6.44735  7.5217 12.2442
## logit_p[1]   -5.095902 -3.67322 -3.10750 -2.6547 -1.9829
## logit_p[2]   -4.010311 -3.03219 -2.58691 -2.1908 -1.4755
## p[1]          0.006085  0.02477  0.04280  0.0657  0.1210
## p[2]          0.017805  0.04599  0.06999  0.1006  0.1861
## p.failure[1]  1.000000  1.00000  1.00000  1.0000  1.0000
## p.failure[2]  0.000000  1.00000  1.00000  1.0000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.0000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.0000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-31.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-32.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.15&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.393093 1.83226 0.0334523       0.070128
## logit_p[1]   -3.059024 0.72581 0.0132514       0.046587
## logit_p[2]   -2.302706 0.55848 0.0101964       0.025938
## p[1]          0.054470 0.03260 0.0005951       0.001740
## p[2]          0.101160 0.04920 0.0008982       0.002268
## p.failure[1]  0.991667 0.09092 0.0016600       0.002046
## p.failure[2]  0.849333 0.35778 0.0065322       0.010806
## p.success[1]  0.008333 0.09092 0.0016600       0.002046
## p.success[2]  0.150667 0.35778 0.0065322       0.010806
## 
## 2. Quantiles for each variable:
## 
##                  2.5%      25%      50%      75%   97.5%
## deviance      5.18245  5.98755  7.06940  8.25573 12.1463
## logit_p[1]   -4.72997 -3.50514 -2.97074 -2.53092 -1.8762
## logit_p[2]   -3.47472 -2.67209 -2.27619 -1.90000 -1.2884
## p[1]          0.00875  0.02917  0.04877  0.07372  0.1328
## p[2]          0.03004  0.06464  0.09311  0.13011  0.2161
## p.failure[1]  1.00000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.00000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.00000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.00000  0.00000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-33.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-34.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.2&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.11501 2.27471 0.0415303       0.089633
## logit_p[1]   -3.06142 0.86100 0.0157197       0.061305
## logit_p[2]   -1.74440 0.49663 0.0090672       0.018865
## p[1]          0.05772 0.03842 0.0007015       0.002242
## p[2]          0.15930 0.06480 0.0011831       0.002379
## p.failure[1]  0.97333 0.16113 0.0029419       0.005153
## p.failure[2]  0.49200 0.50002 0.0091291       0.016629
## p.success[1]  0.02667 0.16113 0.0029419       0.005153
## p.success[2]  0.50800 0.50002 0.0091291       0.016629
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.491364  6.32291  7.55703  9.44476 13.7112
## logit_p[1]   -5.129899 -3.52251 -2.93046 -2.45657 -1.7210
## logit_p[2]   -2.719597 -2.07603 -1.72636 -1.40921 -0.7895
## p[1]          0.005882  0.02868  0.05067  0.07896  0.1517
## p[2]          0.061827  0.11145  0.15105  0.19636  0.3123
## p.failure[1]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[2]  0.000000  0.00000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-35.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-36.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.25&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.37781 2.54056 0.0463840       0.098440
## logit_p[1]   -2.96476 0.84749 0.0154730       0.058786
## logit_p[2]   -1.27278 0.44907 0.0081989       0.015768
## p[1]          0.06268 0.04175 0.0007622       0.002342
## p[2]          0.22803 0.07570 0.0013821       0.002602
## p.failure[1]  0.95967 0.19677 0.0035926       0.006379
## p.failure[2]  0.15433 0.36133 0.0065969       0.010400
## p.success[1]  0.04033 0.19677 0.0035926       0.006379
## p.success[2]  0.84567 0.36133 0.0065969       0.010400
## 
## 2. Quantiles for each variable:
## 
##                   2.5%     25%      50%      75%   97.5%
## deviance      5.665758  6.4546  7.60739  9.51772 14.9572
## logit_p[1]   -4.998058 -3.4259 -2.86186 -2.37219 -1.6465
## logit_p[2]   -2.218856 -1.5744 -1.25108 -0.96110 -0.4368
## p[1]          0.006706  0.0315  0.05407  0.08532  0.1616
## p[2]          0.098070  0.1716  0.22251  0.27666  0.3925
## p.failure[1]  0.000000  1.0000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.0000  0.00000  0.00000  1.0000
## p.success[1]  0.000000  0.0000  0.00000  0.00000  1.0000
## p.success[2]  0.000000  1.0000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-37.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-38.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.3&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.33963 2.48965 0.0454545       0.096915
## logit_p[1]   -3.13614 0.94244 0.0172066       0.071311
## logit_p[2]   -1.09028 0.43007 0.0078520       0.013684
## p[1]          0.05670 0.04134 0.0007547       0.002543
## p[2]          0.25984 0.07921 0.0014461       0.002467
## p.failure[1]  0.96867 0.17425 0.0031813       0.005122
## p.failure[2]  0.07233 0.25908 0.0047302       0.007081
## p.success[1]  0.03133 0.17425 0.0031813       0.005122
## p.success[2]  0.92767 0.25908 0.0047302       0.007081
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.747551  6.53387  7.57033  9.31692 15.4008
## logit_p[1]   -5.274783 -3.69354 -2.97672 -2.44709 -1.7011
## logit_p[2]   -1.962240 -1.37503 -1.07453 -0.78602 -0.3096
## p[1]          0.005093  0.02428  0.04849  0.07965  0.1543
## p[2]          0.123225  0.20181  0.25454  0.31302  0.4232
## p.failure[1]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[2]  0.000000  1.00000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-39.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-40.png" width="672" /></p>
<pre><code>## [1] &quot;PessimisticPrior and Observed ORR = 0.35&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.09381 2.33585 0.0426466       0.083474
## logit_p[1]   -3.25751 0.92330 0.0168571       0.067976
## logit_p[2]   -0.90773 0.40247 0.0073480       0.011976
## p[1]          0.05071 0.03912 0.0007143       0.002275
## p[2]          0.29420 0.08063 0.0014721       0.002391
## p.failure[1]  0.97400 0.15916 0.0029059       0.005302
## p.failure[2]  0.02233 0.14779 0.0026983       0.003175
## p.success[1]  0.02600 0.15916 0.0029059       0.005302
## p.success[2]  0.97767 0.14779 0.0026983       0.003175
## 
## 2. Quantiles for each variable:
## 
##                   2.5%     25%      50%      75%   97.5%
## deviance      5.782703  6.3989  7.37140  9.05097 14.5273
## logit_p[1]   -5.355674 -3.8228 -3.17882 -2.58185 -1.7319
## logit_p[2]   -1.721010 -1.1756 -0.88911 -0.63421 -0.1281
## p[1]          0.004699  0.0214  0.03997  0.07032  0.1503
## p[2]          0.151741  0.2358  0.29129  0.34656  0.4680
## p.failure[1]  0.000000  1.0000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.0000  0.00000  0.00000  0.0000
## p.success[1]  0.000000  0.0000  0.00000  0.00000  1.0000
## p.success[2]  1.000000  1.0000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-41.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-42.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.05&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      5.097852 1.38124 0.0252178       0.057597
## logit_p[1]   -3.249705 0.70837 0.0129330       0.042007
## logit_p[2]   -3.078318 0.74726 0.0136431       0.041286
## p[1]          0.045518 0.02891 0.0005278       0.001507
## p[2]          0.054733 0.03825 0.0006984       0.001835
## p.failure[1]  0.994667 0.07285 0.0013300       0.001866
## p.failure[2]  0.970333 0.16969 0.0030982       0.004804
## p.success[1]  0.005333 0.07285 0.0013300       0.001866
## p.success[2]  0.029667 0.16969 0.0030982       0.004804
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      3.950933  4.21533  4.62880  5.48467  8.7576
## logit_p[1]   -4.798086 -3.68896 -3.20679 -2.73687 -2.0481
## logit_p[2]   -4.573679 -3.55222 -3.05789 -2.57154 -1.6997
## p[1]          0.008178  0.02439  0.03891  0.06083  0.1142
## p[2]          0.010215  0.02786  0.04488  0.07099  0.1545
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-43.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-44.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.1&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      6.40100 1.66557 0.0304091       0.070294
## logit_p[1]   -3.02076 0.74088 0.0135265       0.047389
## logit_p[2]   -2.55357 0.70580 0.0128860       0.039786
## p[1]          0.05691 0.03512 0.0006413       0.002168
## p[2]          0.08585 0.05206 0.0009505       0.002698
## p.failure[1]  0.98267 0.13053 0.0023832       0.003982
## p.failure[2]  0.87900 0.32618 0.0059552       0.012865
## p.success[1]  0.01733 0.13053 0.0023832       0.003982
## p.success[2]  0.12100 0.32618 0.0059552       0.012865
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      4.554539  5.28037  5.92927  7.00929 10.8558
## logit_p[1]   -4.724397 -3.45929 -2.93480 -2.49749 -1.8036
## logit_p[2]   -4.105696 -2.97460 -2.52701 -2.07340 -1.3058
## p[1]          0.008798  0.03049  0.05046  0.07603  0.1414
## p[2]          0.016211  0.04859  0.07399  0.11171  0.2132
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-45.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-46.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.15&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD Naive SE Time-series SE
## deviance      7.10951 1.87364 0.034208       0.074665
## logit_p[1]   -2.91962 0.68251 0.012461       0.038733
## logit_p[2]   -2.15154 0.64460 0.011769       0.028225
## p[1]          0.06093 0.03566 0.000651       0.001956
## p[2]          0.11874 0.06349 0.001159       0.002539
## p.failure[1]  0.97900 0.14341 0.002618       0.004396
## p.failure[2]  0.74000 0.43871 0.008010       0.014659
## p.success[1]  0.02100 0.14341 0.002618       0.004396
## p.success[2]  0.26000 0.43871 0.008010       0.014659
## 
## 2. Quantiles for each variable:
## 
##                  2.5%      25%      50%     75%   97.5%
## deviance      4.86676  5.72420  6.75223  8.0282 11.9313
## logit_p[1]   -4.37982 -3.36006 -2.85556 -2.4383 -1.7676
## logit_p[2]   -3.47719 -2.55182 -2.12812 -1.7172 -0.9890
## p[1]          0.01237  0.03357  0.05439  0.0803  0.1458
## p[2]          0.02997  0.07230  0.10639  0.1522  0.2711
## p.failure[1]  1.00000  1.00000  1.00000  1.0000  1.0000
## p.failure[2]  0.00000  0.00000  1.00000  1.0000  1.0000
## p.success[1]  0.00000  0.00000  0.00000  0.0000  0.0000
## p.success[2]  0.00000  0.00000  0.00000  1.0000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-47.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-48.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.2&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.68501 2.20668 0.0402883       0.099400
## logit_p[1]   -2.87484 0.78226 0.0142821       0.055289
## logit_p[2]   -1.74317 0.57420 0.0104834       0.021525
## p[1]          0.06626 0.04180 0.0007631       0.002456
## p[2]          0.16281 0.07531 0.0013750       0.002739
## p.failure[1]  0.95433 0.20880 0.0038121       0.006775
## p.failure[2]  0.49567 0.50006 0.0091299       0.015743
## p.success[1]  0.04567 0.20880 0.0038121       0.006775
## p.success[2]  0.50433 0.50006 0.0091299       0.015743
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%     75%   97.5%
## deviance      5.090180  5.95097  7.18815  8.9580 12.9968
## logit_p[1]   -4.705460 -3.36295 -2.78633 -2.3088 -1.6132
## logit_p[2]   -2.926210 -2.11568 -1.72941 -1.3471 -0.6535
## p[1]          0.008965  0.03347  0.05807  0.0904  0.1662
## p[2]          0.050873  0.10758  0.15066  0.2063  0.3422
## p.failure[1]  0.000000  1.00000  1.00000  1.0000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  1.0000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.0000  1.0000
## p.success[2]  0.000000  0.00000  1.00000  1.0000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-49.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-50.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.25&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD Naive SE Time-series SE
## deviance      8.00474 2.48932 0.045449       0.093778
## logit_p[1]   -2.86737 0.79875 0.014583       0.049565
## logit_p[2]   -1.42704 0.56388 0.010295       0.020334
## p[1]          0.06675 0.04174 0.000762       0.002328
## p[2]          0.20777 0.08804 0.001607       0.003177
## p.failure[1]  0.95767 0.20138 0.003677       0.006458
## p.failure[2]  0.28800 0.45291 0.008269       0.014628
## p.success[1]  0.04233 0.20138 0.003677       0.006458
## p.success[2]  0.71200 0.45291 0.008269       0.014628
## 
## 2. Quantiles for each variable:
## 
##                   2.5%     25%      50%      75%   97.5%
## deviance      5.229137  6.0124  7.28316  9.37210 14.0923
## logit_p[1]   -4.867427 -3.3139 -2.76139 -2.31276 -1.5989
## logit_p[2]   -2.544330 -1.8045 -1.39747 -1.03833 -0.3585
## p[1]          0.007634  0.0351  0.05945  0.09007  0.1681
## p[2]          0.072808  0.1413  0.19822  0.26147  0.4113
## p.failure[1]  0.000000  1.0000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.0000  0.00000  1.00000  1.0000
## p.success[1]  0.000000  0.0000  0.00000  0.00000  1.0000
## p.success[2]  0.000000  0.0000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-51.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-52.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.3&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.06505 2.58103 0.0471229       0.112782
## logit_p[1]   -2.90565 0.80661 0.0147266       0.057491
## logit_p[2]   -1.12673 0.54032 0.0098649       0.019785
## p[1]          0.06492 0.04114 0.0007511       0.002323
## p[2]          0.25750 0.09763 0.0017824       0.003265
## p.failure[1]  0.96267 0.18961 0.0034618       0.006638
## p.failure[2]  0.13367 0.34035 0.0062139       0.011675
## p.success[1]  0.03733 0.18961 0.0034618       0.006638
## p.success[2]  0.86633 0.34035 0.0062139       0.011675
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.355065  6.12887  7.28996  9.26479 14.4947
## logit_p[1]   -4.910769 -3.33994 -2.80680 -2.33797 -1.6348
## logit_p[2]   -2.219576 -1.48045 -1.10763 -0.75919 -0.1206
## p[1]          0.007313  0.03423  0.05696  0.08803  0.1632
## p[2]          0.098006  0.18536  0.24831  0.31882  0.4699
## p.failure[1]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[2]  0.000000  1.00000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-53.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-54.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.35&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.03732 2.66292 0.0486180       0.109936
## logit_p[1]   -2.97709 0.83824 0.0153041       0.057918
## logit_p[2]   -0.84822 0.51380 0.0093807       0.016722
## p[1]          0.06227 0.04308 0.0007866       0.002667
## p[2]          0.31015 0.10325 0.0018852       0.003255
## p.failure[1]  0.95433 0.20880 0.0038121       0.007651
## p.failure[2]  0.04767 0.21310 0.0038906       0.005346
## p.success[1]  0.04567 0.20880 0.0038121       0.007651
## p.success[2]  0.95233 0.21310 0.0038906       0.005346
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.404496  6.08619  7.20430  9.17737 15.4137
## logit_p[1]   -4.891632 -3.48934 -2.89470 -2.37942 -1.5935
## logit_p[2]   -1.918281 -1.18048 -0.82186 -0.51066  0.1039
## p[1]          0.007453  0.02962  0.05242  0.08476  0.1689
## p[2]          0.128053  0.23497  0.30537  0.37504  0.5260
## p.failure[1]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[2]  0.000000  1.00000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-55.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-56.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.05&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      5.124661 1.43959 0.0262831       0.062675
## logit_p[1]   -3.202830 0.69153 0.0126256       0.041960
## logit_p[2]   -3.103679 0.69085 0.0126131       0.036827
## p[1]          0.047097 0.02893 0.0005283       0.001501
## p[2]          0.051799 0.03233 0.0005903       0.001689
## p.failure[1]  0.994333 0.07508 0.0013707       0.001774
## p.failure[2]  0.984667 0.12290 0.0022438       0.004364
## p.success[1]  0.005667 0.07508 0.0013707       0.001774
## p.success[2]  0.015333 0.12290 0.0022438       0.004364
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      3.949590  4.17135  4.61924  5.55881  9.1998
## logit_p[1]   -4.714611 -3.62275 -3.14208 -2.72657 -1.9934
## logit_p[2]   -4.578190 -3.54049 -3.07766 -2.60490 -1.8764
## p[1]          0.008884  0.02601  0.04140  0.06142  0.1199
## p[2]          0.010169  0.02818  0.04404  0.06882  0.1328
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  0.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-57.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-58.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.1&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      6.049062 1.42707 0.0260546       0.051251
## logit_p[1]   -3.049307 0.63898 0.0116662       0.034362
## logit_p[2]   -2.694863 0.64853 0.0118404       0.031444
## p[1]          0.053031 0.02960 0.0005404       0.001441
## p[2]          0.073867 0.04252 0.0007763       0.001799
## p.failure[1]  0.994333 0.07508 0.0013707       0.001893
## p.failure[2]  0.944667 0.22867 0.0041749       0.006095
## p.success[1]  0.005667 0.07508 0.0013707       0.001893
## p.success[2]  0.055333 0.22867 0.0041749       0.006095
## 
## 2. Quantiles for each variable:
## 
##                  2.5%      25%      50%      75%   97.5%
## deviance      4.55991  5.09103  5.62692  6.57210  9.8264
## logit_p[1]   -4.43861 -3.46651 -2.98684 -2.58237 -1.9672
## logit_p[2]   -4.08695 -3.10066 -2.65372 -2.25424 -1.5270
## p[1]          0.01167  0.03028  0.04802  0.07028  0.1227
## p[2]          0.01651  0.04308  0.06576  0.09498  0.1784
## p.failure[1]  1.00000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.00000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.00000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.00000  0.00000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-59.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-60.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.15&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.54878 1.98266 0.0361982       0.071045
## logit_p[1]   -2.88303 0.76838 0.0140286       0.050526
## logit_p[2]   -1.98398 0.53881 0.0098374       0.021191
## p[1]          0.06506 0.03911 0.0007141       0.002172
## p[2]          0.13223 0.06041 0.0011030       0.002286
## p.failure[1]  0.96833 0.17514 0.0031976       0.005005
## p.failure[2]  0.67100 0.46993 0.0085797       0.015180
## p.success[1]  0.03167 0.17514 0.0031976       0.005005
## p.success[2]  0.32900 0.46993 0.0085797       0.015180
## 
## 2. Quantiles for each variable:
## 
##                  2.5%      25%     50%      75%   97.5%
## deviance      5.14690  5.96910  7.1579  8.62571 12.2273
## logit_p[1]   -4.64690 -3.32530 -2.7463 -2.33589 -1.6954
## logit_p[2]   -3.06186 -2.34337 -1.9728 -1.61791 -0.9335
## p[1]          0.00950  0.03471  0.0603  0.08819  0.1551
## p[2]          0.04471  0.08759  0.1221  0.16549  0.2822
## p.failure[1]  0.00000  1.00000  1.0000  1.00000  1.0000
## p.failure[2]  0.00000  0.00000  1.0000  1.00000  1.0000
## p.success[1]  0.00000  0.00000  0.0000  0.00000  1.0000
## p.success[2]  0.00000  0.00000  0.0000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-61.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-62.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.2&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.94221 2.19675 0.0401071       0.091622
## logit_p[1]   -2.87873 0.80390 0.0146772       0.063970
## logit_p[2]   -1.68219 0.52255 0.0095404       0.019440
## p[1]          0.06656 0.04149 0.0007575       0.002862
## p[2]          0.16864 0.07051 0.0012873       0.002539
## p.failure[1]  0.95633 0.20439 0.0037316       0.006174
## p.failure[2]  0.45033 0.49761 0.0090851       0.015293
## p.success[1]  0.04367 0.20439 0.0037316       0.006174
## p.success[2]  0.54967 0.49761 0.0090851       0.015293
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.323010  6.16264  7.36123  9.38661 13.0236
## logit_p[1]   -4.733054 -3.37169 -2.74003 -2.29780 -1.6408
## logit_p[2]   -2.735684 -2.03124 -1.67713 -1.31614 -0.7253
## p[1]          0.008723  0.03319  0.06065  0.09131  0.1624
## p[2]          0.060900  0.11596  0.15748  0.21146  0.3262
## p.failure[1]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[2]  0.000000  0.00000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-63.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-64.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.25&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                 Mean      SD  Naive SE Time-series SE
## deviance      8.3795 2.60628 0.0475840       0.103424
## logit_p[1]   -2.7443 0.73899 0.0134920       0.043472
## logit_p[2]   -1.4361 0.50802 0.0092751       0.018341
## p[1]          0.0730 0.04349 0.0007941       0.002346
## p[2]          0.2038 0.07790 0.0014222       0.002681
## p.failure[1]  0.9400 0.23753 0.0043366       0.007463
## p.failure[2]  0.2757 0.44692 0.0081597       0.013297
## p.success[1]  0.0600 0.23753 0.0043366       0.007463
## p.success[2]  0.7243 0.44692 0.0081597       0.013297
## 
## 2. Quantiles for each variable:
## 
##                  2.5%      25%      50%      75%   97.5%
## deviance      5.43103  6.34574  7.64119  9.77504 14.7085
## logit_p[1]   -4.50270 -3.17890 -2.65563 -2.22750 -1.5408
## logit_p[2]   -2.48657 -1.77879 -1.41382 -1.08363 -0.5094
## p[1]          0.01096  0.03997  0.06564  0.09731  0.1764
## p[2]          0.07680  0.14445  0.19563  0.25282  0.3753
## p.failure[1]  0.00000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.00000  0.00000  0.00000  1.00000  1.0000
## p.success[1]  0.00000  0.00000  0.00000  0.00000  1.0000
## p.success[2]  0.00000  0.00000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-65.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-66.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.3&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.35602 2.68556 0.0490314       0.101393
## logit_p[1]   -2.86052 0.75021 0.0136969       0.046251
## logit_p[2]   -0.98589 0.48067 0.0087757       0.016037
## p[1]          0.06626 0.04147 0.0007572       0.002197
## p[2]          0.28155 0.09238 0.0016866       0.003030
## p.failure[1]  0.95833 0.19986 0.0036489       0.005902
## p.failure[2]  0.06733 0.25064 0.0045760       0.006558
## p.success[1]  0.04167 0.19986 0.0036489       0.005902
## p.success[2]  0.93267 0.25064 0.0045760       0.006558
## 
## 2. Quantiles for each variable:
## 
##                 2.5%      25%      50%      75%    97.5%
## deviance      5.6016  6.39238  7.54207  9.47043 15.55266
## logit_p[1]   -4.5170 -3.32318 -2.78584 -2.31672 -1.59506
## logit_p[2]   -1.9719 -1.29981 -0.97438 -0.64919 -0.08317
## p[1]          0.0108  0.03478  0.05809  0.08975  0.16867
## p[2]          0.1222  0.21420  0.27401  0.34317  0.47922
## p.failure[1]  0.0000  1.00000  1.00000  1.00000  1.00000
## p.failure[2]  0.0000  0.00000  0.00000  0.00000  1.00000
## p.success[1]  0.0000  0.00000  0.00000  0.00000  1.00000
## p.success[2]  0.0000  1.00000  1.00000  1.00000  1.00000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-67.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-68.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.35&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.28742 2.61643 0.0477693       0.096246
## logit_p[1]   -2.92091 0.82473 0.0150574       0.053939
## logit_p[2]   -0.77053 0.44452 0.0081158       0.013724
## p[1]          0.06473 0.04302 0.0007854       0.002236
## p[2]          0.32378 0.09320 0.0017016       0.002845
## p.failure[1]  0.95600 0.20513 0.0037451       0.007407
## p.failure[2]  0.01867 0.13537 0.0024715       0.003301
## p.success[1]  0.04400 0.20513 0.0037451       0.007407
## p.success[2]  0.98133 0.13537 0.0024715       0.003301
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%    97.5%
## deviance      5.647320  6.39528  7.48216  9.25411 15.42278
## logit_p[1]   -4.930363 -3.37830 -2.82143 -2.33904 -1.57577
## logit_p[2]   -1.678302 -1.07710 -0.75590 -0.46473  0.05724
## p[1]          0.007172  0.03298  0.05618  0.08794  0.17140
## p[2]          0.157320  0.25406  0.31954  0.38586  0.51431
## p.failure[1]  0.000000  1.00000  1.00000  1.00000  1.00000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  0.00000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  1.00000
## p.success[2]  1.000000  1.00000  1.00000  1.00000  1.00000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-69.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-70.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.05&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      5.98773 1.50294 0.0274397       0.056736
## logit_p[1]   -3.03709 0.65521 0.0119625       0.036268
## logit_p[2]   -2.77079 0.59387 0.0108425       0.028368
## p[1]          0.05383 0.03042 0.0005554       0.001480
## p[2]          0.06741 0.03640 0.0006645       0.001683
## p.failure[1]  0.99300 0.08339 0.0015224       0.002071
## p.failure[2]  0.97000 0.17062 0.0031150       0.004426
## p.success[1]  0.00700 0.08339 0.0015224       0.002071
## p.success[2]  0.03000 0.17062 0.0031150       0.004426
## 
## 2. Quantiles for each variable:
## 
##                 2.5%      25%      50%      75%   97.5%
## deviance      4.5707  5.02255  5.50589  6.47867  9.8383
## logit_p[1]   -4.4988 -3.42328 -2.98407 -2.57520 -1.9453
## logit_p[2]   -3.9878 -3.14755 -2.74563 -2.36046 -1.6887
## p[1]          0.0110  0.03158  0.04815  0.07075  0.1251
## p[2]          0.0182  0.04119  0.06033  0.08624  0.1559
## p.failure[1]  1.0000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.0000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.0000  0.00000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-71.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-72.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.1&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      6.80290 1.69568 0.0309587       0.059897
## logit_p[1]   -3.03136 0.73064 0.0133396       0.047426
## logit_p[2]   -2.46052 0.58704 0.0107178       0.026787
## p[1]          0.05613 0.03447 0.0006293       0.002164
## p[2]          0.08899 0.04635 0.0008462       0.002046
## p.failure[1]  0.98300 0.12929 0.0023605       0.003785
## p.failure[2]  0.89867 0.30182 0.0055105       0.010116
## p.success[1]  0.01700 0.12929 0.0023605       0.003785
## p.success[2]  0.10133 0.30182 0.0055105       0.010116
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      4.927896  5.60598  6.42748  7.42842 11.2874
## logit_p[1]   -4.718520 -3.46319 -2.93930 -2.51196 -1.8156
## logit_p[2]   -3.653023 -2.84073 -2.44659 -2.04410 -1.3879
## p[1]          0.008849  0.03038  0.05024  0.07502  0.1400
## p[2]          0.025258  0.05516  0.07969  0.11465  0.1997
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.00000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-73.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-74.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.15&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.39190 1.92849 0.0352093       0.066509
## logit_p[1]   -2.88997 0.71474 0.0130494       0.043789
## logit_p[2]   -2.15015 0.53812 0.0098247       0.023576
## p[1]          0.06306 0.03675 0.0006709       0.002000
## p[2]          0.11467 0.05251 0.0009588       0.002134
## p.failure[1]  0.97200 0.16500 0.0030125       0.004803
## p.failure[2]  0.77767 0.41588 0.0075930       0.013561
## p.success[1]  0.02800 0.16500 0.0030125       0.004803
## p.success[2]  0.22233 0.41588 0.0075930       0.013561
## 
## 2. Quantiles for each variable:
## 
##                  2.5%      25%      50%      75%   97.5%
## deviance      5.17218  5.92686  7.02640  8.22551 12.5363
## logit_p[1]   -4.47037 -3.28876 -2.80362 -2.40191 -1.7100
## logit_p[2]   -3.26769 -2.50854 -2.12066 -1.77721 -1.1467
## p[1]          0.01131  0.03596  0.05713  0.08303  0.1532
## p[2]          0.03670  0.07526  0.10711  0.14465  0.2411
## p.failure[1]  0.00000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.00000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.00000  0.00000  0.00000  0.00000  1.0000
## p.success[2]  0.00000  0.00000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-75.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-76.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.2&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.20487 2.39498 0.0437262       0.103083
## logit_p[1]   -2.81892 0.71498 0.0130536       0.044167
## logit_p[2]   -1.66365 0.50338 0.0091904       0.019750
## p[1]          0.06774 0.04047 0.0007388       0.002277
## p[2]          0.17027 0.06767 0.0012355       0.002604
## p.failure[1]  0.95833 0.19986 0.0036489       0.006233
## p.failure[2]  0.42933 0.49506 0.0090386       0.016404
## p.success[1]  0.04167 0.19986 0.0036489       0.006233
## p.success[2]  0.57067 0.49506 0.0090386       0.016404
## 
## 2. Quantiles for each variable:
## 
##                  2.5%      25%      50%      75%   97.5%
## deviance      5.47928  6.31259  7.60888  9.60195 13.8994
## logit_p[1]   -4.35756 -3.29450 -2.74577 -2.29444 -1.6323
## logit_p[2]   -2.71939 -2.00344 -1.63998 -1.30733 -0.7508
## p[1]          0.01265  0.03576  0.06033  0.09158  0.1635
## p[2]          0.06184  0.11884  0.16247  0.21293  0.3206
## p.failure[1]  0.00000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.00000  0.00000  0.00000  1.00000  1.0000
## p.success[1]  0.00000  0.00000  0.00000  0.00000  1.0000
## p.success[2]  0.00000  0.00000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-77.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-78.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.25&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.51605 2.76866 0.0505486       0.119681
## logit_p[1]   -2.83101 0.77702 0.0141863       0.057009
## logit_p[2]   -1.23406 0.45282 0.0082673       0.015505
## p[1]          0.06895 0.04472 0.0008165       0.002579
## p[2]          0.23482 0.07809 0.0014257       0.002602
## p.failure[1]  0.94333 0.23124 0.0042219       0.007782
## p.failure[2]  0.13933 0.34635 0.0063235       0.010082
## p.success[1]  0.05667 0.23124 0.0042219       0.007782
## p.success[2]  0.86067 0.34635 0.0063235       0.010082
## 
## 2. Quantiles for each variable:
## 
##                  2.5%      25%      50%      75%   97.5%
## deviance      5.65600  6.40904  7.66074  9.78043 15.4502
## logit_p[1]   -4.55494 -3.29900 -2.75600 -2.29793 -1.5318
## logit_p[2]   -2.16154 -1.52565 -1.21805 -0.91926 -0.3885
## p[1]          0.01041  0.03561  0.05975  0.09129  0.1777
## p[2]          0.10326  0.17863  0.22828  0.28511  0.4041
## p.failure[1]  0.00000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.00000  0.00000  0.00000  0.00000  1.0000
## p.success[1]  0.00000  0.00000  0.00000  0.00000  1.0000
## p.success[2]  0.00000  1.00000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-79.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-80.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.3&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.51289 2.74035 0.0500317       0.105784
## logit_p[1]   -2.82289 0.76596 0.0139845       0.048733
## logit_p[2]   -1.03766 0.42569 0.0077721       0.013121
## p[1]          0.06932 0.04516 0.0008245       0.002359
## p[2]          0.26955 0.08034 0.0014667       0.002534
## p.failure[1]  0.93867 0.23998 0.0043814       0.008414
## p.failure[2]  0.05867 0.23504 0.0042912       0.006210
## p.success[1]  0.06133 0.23998 0.0043814       0.008414
## p.success[2]  0.94133 0.23504 0.0042912       0.006210
## 
## 2. Quantiles for each variable:
## 
##                  2.5%      25%      50%     75%   97.5%
## deviance      5.75103  6.49785  7.66054  9.6691 15.7126
## logit_p[1]   -4.55760 -3.30759 -2.76335 -2.2716 -1.5305
## logit_p[2]   -1.90461 -1.30623 -1.02509 -0.7425 -0.2591
## p[1]          0.01038  0.03531  0.05934  0.0935  0.1779
## p[2]          0.12959  0.21312  0.26404  0.3225  0.4356
## p.failure[1]  0.00000  1.00000  1.00000  1.0000  1.0000
## p.failure[2]  0.00000  0.00000  0.00000  0.0000  1.0000
## p.success[1]  0.00000  0.00000  0.00000  0.0000  1.0000
## p.success[2]  0.00000  1.00000  1.00000  1.0000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-81.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-82.png" width="672" /></p>
<pre><code>## [1] &quot;OptimisticPrior and Observed ORR = 0.35&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      8.40285 2.57484 0.0470099       0.093700
## logit_p[1]   -2.94169 0.83797 0.0152991       0.057382
## logit_p[2]   -0.84052 0.42669 0.0077903       0.014013
## p[1]          0.06374 0.04199 0.0007666       0.002319
## p[2]          0.30866 0.08719 0.0015919       0.002846
## p.failure[1]  0.96133 0.19283 0.0035206       0.006224
## p.failure[2]  0.01900 0.13655 0.0024930       0.002970
## p.success[1]  0.03867 0.19283 0.0035206       0.006224
## p.success[2]  0.98100 0.13655 0.0024930       0.002970
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%    97.5%
## deviance      5.794404  6.53742  7.68393  9.44257 15.18262
## logit_p[1]   -4.853400 -3.38304 -2.84461 -2.33882 -1.63545
## logit_p[2]   -1.673004 -1.12052 -0.82721 -0.55188 -0.04978
## p[1]          0.007741  0.03283  0.05496  0.08796  0.16308
## p[2]          0.158024  0.24591  0.30423  0.36543  0.48756
## p.failure[1]  0.000000  1.00000  1.00000  1.00000  1.00000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  0.00000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  1.00000
## p.success[2]  1.000000  1.00000  1.00000  1.00000  1.00000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-83.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-84.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.05&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      6.23067 2.26930 0.0414315      0.0445770
## logit_p[1]   -4.06923 1.27516 0.0232811      0.0242948
## logit_p[2]   -3.53343 1.31085 0.0239328      0.0239355
## p[1]          0.02894 0.02822 0.0005152      0.0005152
## p[2]          0.04860 0.04618 0.0008431      0.0008431
## p.failure[1]  0.99600 0.06313 0.0011526      0.0012649
## p.failure[2]  0.95433 0.20880 0.0038121      0.0037610
## p.success[1]  0.00400 0.06313 0.0011526      0.0012649
## p.success[2]  0.04567 0.20880 0.0038121      0.0037610
## 
## 2. Quantiles for each variable:
## 
##                    2.5%      25%      50%      75%   97.5%
## deviance      3.9729298  4.58217  5.52638  7.16320 12.4601
## logit_p[1]   -7.1432399 -4.75444 -3.87993 -3.18076 -2.1263
## logit_p[2]   -6.6701071 -4.21870 -3.33099 -2.60169 -1.5755
## p[1]          0.0007896  0.00854  0.02023  0.03990  0.1066
## p[2]          0.0012667  0.01450  0.03452  0.06903  0.1714
## p.failure[1]  1.0000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000000  1.00000  1.00000  1.00000  1.0000
## p.success[1]  0.0000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.0000000  0.00000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-85.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-86.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.1&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      6.738747 2.16715 0.0395666      0.0401623
## logit_p[1]   -4.076079 1.28334 0.0234304      0.0238263
## logit_p[2]   -2.438740 0.83611 0.0152652      0.0157602
## p[1]          0.029162 0.02916 0.0005325      0.0005485
## p[2]          0.100128 0.06565 0.0011986      0.0011812
## p.failure[1]  0.994667 0.07285 0.0013300      0.0013300
## p.failure[2]  0.798667 0.40106 0.0073224      0.0069345
## p.success[1]  0.005333 0.07285 0.0013300      0.0013300
## p.success[2]  0.201333 0.40106 0.0073224      0.0069345
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%   97.5%
## deviance      4.5499755  5.164549  6.08951  7.65562 12.6037
## logit_p[1]   -7.0755687 -4.750566 -3.90444 -3.15931 -2.1276
## logit_p[2]   -4.3370667 -2.933284 -2.36558 -1.83706 -1.0550
## p[1]          0.0008448  0.008573  0.01975  0.04073  0.1064
## p[2]          0.0129061  0.050533  0.08584  0.13740  0.2583
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000000  1.000000  1.00000  1.00000  1.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  0.0000000  0.000000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-87.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-88.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.15&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.025982 2.20358 0.0402317      0.0402060
## logit_p[1]   -4.060877 1.28950 0.0235430      0.0252799
## logit_p[2]   -1.872498 0.68045 0.0124232      0.0126447
## p[1]          0.029303 0.02818 0.0005144      0.0005154
## p[2]          0.151270 0.07920 0.0014460      0.0014736
## p.failure[1]  0.995333 0.06816 0.0012445      0.0013405
## p.failure[2]  0.542667 0.49826 0.0090969      0.0090967
## p.success[1]  0.004667 0.06816 0.0012445      0.0013405
## p.success[2]  0.457333 0.49826 0.0090969      0.0090967
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%   97.5%
## deviance      4.8567188  5.425480  6.33540  7.94006 12.7568
## logit_p[1]   -7.1424799 -4.735429 -3.84298 -3.13193 -2.1549
## logit_p[2]   -3.3177268 -2.289447 -1.80894 -1.41536 -0.6547
## p[1]          0.0007902  0.008702  0.02098  0.04181  0.1039
## p[2]          0.0349680  0.092001  0.14077  0.19539  0.3419
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000000  0.000000  1.00000  1.00000  1.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  0.0000000  0.000000  0.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-89.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-90.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.2&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.182060 2.18424 0.0398786      0.0392058
## logit_p[1]   -4.012245 1.26388 0.0230753      0.0237579
## logit_p[2]   -1.468576 0.59340 0.0108340      0.0108341
## p[1]          0.030058 0.02836 0.0005178      0.0005158
## p[2]          0.202657 0.08909 0.0016266      0.0016265
## p.failure[1]  0.996333 0.06045 0.0011037      0.0012121
## p.failure[2]  0.302333 0.45935 0.0083865      0.0085311
## p.success[1]  0.003667 0.06045 0.0011037      0.0012121
## p.success[2]  0.697667 0.45935 0.0083865      0.0085311
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%   97.5%
## deviance      5.0734475  5.621316  6.48747  7.97297 13.2465
## logit_p[1]   -7.1430648 -4.707202 -3.78764 -3.11714 -2.1438
## logit_p[2]   -2.7177544 -1.832902 -1.44429 -1.06163 -0.3828
## p[1]          0.0007897  0.008949  0.02215  0.04241  0.1049
## p[2]          0.0619338  0.137893  0.19088  0.25700  0.4055
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000000  0.000000  0.00000  1.00000  1.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  0.0000000  0.000000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-91.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-92.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.25&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.33191 2.15072 0.0392666      0.0397736
## logit_p[1]   -4.03483 1.24219 0.0226791      0.0226793
## logit_p[2]   -1.19000 0.54622 0.0099725      0.0097893
## p[1]          0.02939 0.02849 0.0005201      0.0005201
## p[2]          0.24646 0.09437 0.0017229      0.0017349
## p.failure[1]  0.99400 0.07724 0.0014102      0.0014097
## p.failure[2]  0.15467 0.36165 0.0066027      0.0066019
## p.success[1]  0.00600 0.07724 0.0014102      0.0014097
## p.success[2]  0.84533 0.36165 0.0066027      0.0066019
## 
## 2. Quantiles for each variable:
## 
##                   2.5%      25%      50%      75%   97.5%
## deviance      5.226619  5.78574  6.68617  8.20330 12.9497
## logit_p[1]   -6.983741 -4.74030 -3.83564 -3.15101 -2.1248
## logit_p[2]   -2.355984 -1.53191 -1.17274 -0.80378 -0.1809
## p[1]          0.000926  0.00866  0.02113  0.04105  0.1067
## p[2]          0.086591  0.17771  0.23636  0.30922  0.4549
## p.failure[1]  1.000000  1.00000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  0.00000  0.00000  0.00000  1.0000
## p.success[1]  0.000000  0.00000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  1.00000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-93.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-94.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.3&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.46655 2.14561 0.0391733      0.0401403
## logit_p[1]   -4.08872 1.30792 0.0238793      0.0245747
## logit_p[2]   -0.91002 0.49757 0.0090844      0.0092425
## p[1]          0.02908 0.02906 0.0005306      0.0005418
## p[2]          0.29706 0.09782 0.0017860      0.0018219
## p.failure[1]  0.99500 0.07055 0.0012880      0.0013580
## p.failure[2]  0.05733 0.23252 0.0042452      0.0044536
## p.success[1]  0.00500 0.07055 0.0012880      0.0013580
## p.success[2]  0.94267 0.23252 0.0042452      0.0044536
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%     50%      75%     97.5%
## deviance      5.3276832  5.946123  6.7990  8.31318 13.424487
## logit_p[1]   -7.2374030 -4.758801 -3.8967 -3.16443 -2.105942
## logit_p[2]   -1.9454129 -1.225911 -0.8896 -0.57765  0.006968
## p[1]          0.0007187  0.008503  0.0199  0.04053  0.108521
## p[2]          0.1250545  0.226898  0.2912  0.35947  0.501742
## p.failure[1]  1.0000000  1.000000  1.0000  1.00000  1.000000
## p.failure[2]  0.0000000  0.000000  0.0000  0.00000  1.000000
## p.success[1]  0.0000000  0.000000  0.0000  0.00000  0.000000
## p.success[2]  0.0000000  1.000000  1.0000  1.00000  1.000000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-95.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-96.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.35&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.586111 2.26141 0.0412874      0.0436701
## logit_p[1]   -4.049622 1.32658 0.0242200      0.0252564
## logit_p[2]   -0.643145 0.48275 0.0088139      0.0089246
## p[1]          0.030351 0.03009 0.0005493      0.0005523
## p[2]          0.352063 0.10445 0.0019070      0.0019381
## p.failure[1]  0.994333 0.07508 0.0013707      0.0013707
## p.failure[2]  0.015333 0.12290 0.0022438      0.0022437
## p.success[1]  0.005667 0.07508 0.0013707      0.0013707
## p.success[2]  0.984667 0.12290 0.0022438      0.0022437
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%   97.5%
## deviance      5.3966391  5.977575  6.85678  8.44064 13.7880
## logit_p[1]   -7.3221417 -4.752733 -3.81512 -3.13022 -2.1265
## logit_p[2]   -1.6393400 -0.957457 -0.63366 -0.32805  0.2897
## p[1]          0.0006603  0.008554  0.02156  0.04188  0.1066
## p[2]          0.1625549  0.277388  0.34668  0.41872  0.5719
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  1.0000000  1.000000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-97.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-98.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.05&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      6.249877 2.23875 0.0408738      0.0438014
## logit_p[1]   -4.046051 1.29515 0.0236462      0.0236441
## logit_p[2]   -3.746139 1.28074 0.0233830      0.0250834
## p[1]          0.029812 0.02865 0.0005230      0.0005231
## p[2]          0.039657 0.03913 0.0007144      0.0007377
## p.failure[1]  0.996667 0.05765 0.0010525      0.0011454
## p.failure[2]  0.975000 0.15615 0.0028509      0.0035370
## p.success[1]  0.003333 0.05765 0.0010525      0.0011454
## p.success[2]  0.025000 0.15615 0.0028509      0.0035370
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%   97.5%
## deviance      3.9961935  4.611833  5.60744  7.24090 12.1597
## logit_p[1]   -7.0895027 -4.756485 -3.84100 -3.12112 -2.1365
## logit_p[2]   -6.7492065 -4.449856 -3.55117 -2.83919 -1.7399
## p[1]          0.0008331  0.008523  0.02102  0.04224  0.1056
## p[2]          0.0011704  0.011545  0.02789  0.05524  0.1493
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.9750000  1.000000  1.00000  1.00000  1.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  0.0000000  0.000000  0.00000  0.00000  0.0250</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-99.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-100.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.1&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      6.713841 2.22819 0.0406811      0.0435311
## logit_p[1]   -4.044502 1.26671 0.0231269      0.0239391
## logit_p[2]   -2.700966 0.83537 0.0152517      0.0152463
## p[1]          0.029208 0.02833 0.0005173      0.0004835
## p[2]          0.079557 0.05379 0.0009820      0.0009636
## p.failure[1]  0.994667 0.07285 0.0013300      0.0013304
## p.failure[2]  0.894000 0.30789 0.0056213      0.0055323
## p.success[1]  0.005333 0.07285 0.0013300      0.0013304
## p.success[2]  0.106000 0.30789 0.0056213      0.0055323
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%     75%   97.5%
## deviance      4.5561499  5.150351  6.04005  7.5229 12.5623
## logit_p[1]   -7.0043826 -4.709222 -3.86025 -3.1729 -2.1207
## logit_p[2]   -4.6115386 -3.201847 -2.60644 -2.1281 -1.3037
## p[1]          0.0009071  0.008931  0.02063  0.0402  0.1071
## p[2]          0.0098388  0.039096  0.06872  0.1064  0.2135
## p.failure[1]  1.0000000  1.000000  1.00000  1.0000  1.0000
## p.failure[2]  0.0000000  1.000000  1.00000  1.0000  1.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.0000  0.0000
## p.success[2]  0.0000000  0.000000  0.00000  0.0000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-101.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-102.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.15&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.264194 2.22012 0.0405337      0.0382133
## logit_p[1]   -4.029390 1.30653 0.0238538      0.0239850
## logit_p[2]   -1.763981 0.58189 0.0106238      0.0106203
## p[1]          0.030208 0.02865 0.0005232      0.0005231
## p[2]          0.160200 0.07153 0.0013060      0.0013056
## p.failure[1]  0.995667 0.06570 0.0011994      0.0013483
## p.failure[2]  0.483333 0.49981 0.0091252      0.0091264
## p.success[1]  0.004333 0.06570 0.0011994      0.0013483
## p.success[2]  0.516667 0.49981 0.0091252      0.0091264
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%   97.5%
## deviance      5.1201529  5.681445  6.57394  8.10836 13.3264
## logit_p[1]   -7.2107569 -4.736741 -3.80657 -3.11278 -2.1474
## logit_p[2]   -3.0572857 -2.114601 -1.71483 -1.37018 -0.7453
## p[1]          0.0007381  0.008691  0.02174  0.04258  0.1046
## p[2]          0.0449040  0.107686  0.15254  0.20259  0.3218
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000000  0.000000  0.00000  1.00000  1.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  0.0000000  0.000000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-103.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-104.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.2&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.37737 2.18697 0.0399284      0.0406921
## logit_p[1]   -4.00418 1.27741 0.0233222      0.0226680
## logit_p[2]   -1.45539 0.52240 0.0095378      0.0098089
## p[1]          0.03044 0.02899 0.0005294      0.0005443
## p[2]          0.20137 0.07811 0.0014261      0.0014313
## p.failure[1]  0.99500 0.07055 0.0012880      0.0012883
## p.failure[2]  0.27133 0.44472 0.0081195      0.0081217
## p.success[1]  0.00500 0.07055 0.0012880      0.0012883
## p.success[2]  0.72867 0.44472 0.0081195      0.0081217
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%   97.5%
## deviance      5.2861838  5.808282  6.71573  8.22499 13.1196
## logit_p[1]   -7.0101653 -4.689176 -3.79401 -3.10965 -2.1147
## logit_p[2]   -2.5824081 -1.768635 -1.41718 -1.10609 -0.4989
## p[1]          0.0009018  0.009111  0.02201  0.04271  0.1077
## p[2]          0.0702792  0.145712  0.19510  0.24860  0.3778
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000000  0.000000  0.00000  1.00000  1.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  0.0000000  0.000000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-105.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-106.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.25&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD  Naive SE Time-series SE
## deviance      7.52678 2.13542 0.0389872      0.0400414
## logit_p[1]   -4.07492 1.30060 0.0237455      0.0247171
## logit_p[2]   -1.20645 0.48345 0.0088265      0.0088248
## p[1]          0.02894 0.02765 0.0005047      0.0005064
## p[2]          0.24089 0.08323 0.0015196      0.0015190
## p.failure[1]  0.99800 0.04468 0.0008158      0.0008157
## p.failure[2]  0.13800 0.34496 0.0062980      0.0062946
## p.success[1]  0.00200 0.04468 0.0008158      0.0008157
## p.success[2]  0.86200 0.34496 0.0062980      0.0062946
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%     50%     75%   97.5%
## deviance      5.4179466  6.005604  6.8990  8.3440 13.1808
## logit_p[1]   -7.2179796 -4.768941 -3.8870 -3.1497 -2.1846
## logit_p[2]   -2.2309379 -1.514998 -1.1792 -0.8672 -0.3255
## p[1]          0.0007327  0.008418  0.0201  0.0411  0.1011
## p[2]          0.0970065  0.180199  0.2352  0.2958  0.4193
## p.failure[1]  1.0000000  1.000000  1.0000  1.0000  1.0000
## p.failure[2]  0.0000000  0.000000  0.0000  0.0000  1.0000
## p.success[1]  0.0000000  0.000000  0.0000  0.0000  0.0000
## p.success[2]  0.0000000  1.000000  1.0000  1.0000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-107.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-108.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.3&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.657435 2.08838 0.0381285      0.0399581
## logit_p[1]   -4.044972 1.26140 0.0230300      0.0229610
## logit_p[2]   -0.788929 0.43528 0.0079472      0.0078092
## p[1]          0.029454 0.02911 0.0005314      0.0005234
## p[2]          0.319683 0.09025 0.0016478      0.0016156
## p.failure[1]  0.994333 0.07508 0.0013707      0.0015372
## p.failure[2]  0.017667 0.13176 0.0024056      0.0026714
## p.success[1]  0.005667 0.07508 0.0013707      0.0015372
## p.success[2]  0.982333 0.13176 0.0024056      0.0026714
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%    97.5%
## deviance      5.5689792  6.162373  7.03707  8.51326 13.03952
## logit_p[1]   -7.0349551 -4.716701 -3.85735 -3.16276 -2.08658
## logit_p[2]   -1.6659648 -1.082595 -0.77084 -0.48345  0.01455
## p[1]          0.0008798  0.008865  0.02069  0.04059  0.11041
## p[2]          0.1589629  0.253015  0.31630  0.38144  0.50364
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.00000
## p.failure[2]  0.0000000  0.000000  0.00000  0.00000  0.00000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.00000
## p.success[2]  1.0000000  1.000000  1.00000  1.00000  1.00000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-109.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-110.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.35&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD Naive SE Time-series SE
## deviance      7.731923 2.12140 0.038731      0.0387401
## logit_p[1]   -4.079443 1.29436 0.023632      0.0250867
## logit_p[2]   -0.602121 0.41933 0.007656      0.0075367
## p[1]          0.028912 0.02799 0.000511      0.0005308
## p[2]          0.359378 0.09285 0.001695      0.0016956
## p.failure[1]  0.996000 0.06313 0.001153      0.0013366
## p.failure[2]  0.004667 0.06816 0.001245      0.0013463
## p.success[1]  0.004000 0.06313 0.001153      0.0013366
## p.success[2]  0.995333 0.06816 0.001245      0.0013463
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%   97.5%
## deviance      5.6329270  6.225705  7.09837  8.55427 13.5766
## logit_p[1]   -7.1906328 -4.753339 -3.86847 -3.15166 -2.1746
## logit_p[2]   -1.4427430 -0.885391 -0.59615 -0.32588  0.1961
## p[1]          0.0007531  0.008549  0.02046  0.04103  0.1021
## p[2]          0.1911209  0.292062  0.35523  0.41924  0.5489
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  1.0000000  1.000000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-111.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-112.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.05&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      6.771047 2.19573 0.0400884      0.0419150
## logit_p[1]   -4.028907 1.28286 0.0234216      0.0234159
## logit_p[2]   -2.891042 0.83527 0.0152499      0.0152301
## p[1]          0.029970 0.02910 0.0005313      0.0005282
## p[2]          0.067223 0.04598 0.0008394      0.0008384
## p.failure[1]  0.993667 0.07934 0.0014486      0.0015762
## p.failure[2]  0.940000 0.23753 0.0043366      0.0042522
## p.success[1]  0.006333 0.07934 0.0014486      0.0015762
## p.success[2]  0.060000 0.23753 0.0043366      0.0042522
## 
## 2. Quantiles for each variable:
## 
##                   2.5%       25%      50%      75%   97.5%
## deviance      4.580885  5.166102  6.09111  7.67227 12.8346
## logit_p[1]   -7.027946 -4.728236 -3.82125 -3.13101 -2.1031
## logit_p[2]   -4.771937 -3.376071 -2.81373 -2.29370 -1.5132
## p[1]          0.000886  0.008765  0.02143  0.04185  0.1088
## p[2]          0.008393  0.033052  0.05659  0.09165  0.1805
## p.failure[1]  1.000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.000000  1.000000  1.00000  1.00000  1.0000
## p.success[1]  0.000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  0.000000  0.000000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-113.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-114.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.1&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.104627 2.14978 0.0392494      0.0407026
## logit_p[1]   -4.082029 1.26271 0.0230538      0.0241303
## logit_p[2]   -2.361619 0.67279 0.0122833      0.0122871
## p[1]          0.028681 0.02811 0.0005132      0.0005283
## p[2]          0.099934 0.05471 0.0009989      0.0009992
## p.failure[1]  0.996333 0.06045 0.0011037      0.0012226
## p.failure[2]  0.829667 0.37599 0.0068646      0.0068668
## p.success[1]  0.003667 0.06045 0.0011037      0.0012226
## p.success[2]  0.170333 0.37599 0.0068646      0.0068668
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%   97.5%
## deviance      4.9167383  5.523388  6.44407  8.00091 12.5041
## logit_p[1]   -7.0839259 -4.808041 -3.89826 -3.16544 -2.1415
## logit_p[2]   -3.8725236 -2.760955 -2.30414 -1.89650 -1.2077
## p[1]          0.0008378  0.008098  0.01987  0.04049  0.1051
## p[2]          0.0203817  0.059471  0.09078  0.13050  0.2301
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000000  1.000000  1.00000  1.00000  1.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  0.0000000  0.000000  0.00000  0.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-115.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-116.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.15&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.327930 2.14128 0.0390943      0.0403059
## logit_p[1]   -4.057673 1.28429 0.0234479      0.0239140
## logit_p[2]   -1.974528 0.57142 0.0104327      0.0103592
## p[1]          0.029716 0.02935 0.0005358      0.0005115
## p[2]          0.134418 0.06207 0.0011333      0.0011318
## p.failure[1]  0.994333 0.07508 0.0013707      0.0013710
## p.failure[2]  0.648667 0.47747 0.0087173      0.0090329
## p.success[1]  0.005667 0.07508 0.0013707      0.0013710
## p.success[2]  0.351333 0.47747 0.0087173      0.0090329
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%   97.5%
## deviance      5.1676903  5.752581  6.68498  8.23989 12.9565
## logit_p[1]   -7.0929593 -4.737541 -3.87305 -3.14815 -2.1208
## logit_p[2]   -3.1929284 -2.338066 -1.93719 -1.58454 -0.9489
## p[1]          0.0008303  0.008684  0.02037  0.04116  0.1071
## p[2]          0.0394328  0.088019  0.12596  0.17015  0.2791
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000000  0.000000  1.00000  1.00000  1.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  0.0000000  0.000000  0.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-117.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-118.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.2&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.558082 2.09931 0.0383280       0.038324
## logit_p[1]   -4.018361 1.28108 0.0233892       0.023417
## logit_p[2]   -1.456447 0.46248 0.0084438       0.008618
## p[1]          0.030656 0.03000 0.0005477       0.000547
## p[2]          0.198731 0.07025 0.0012827       0.001305
## p.failure[1]  0.995333 0.06816 0.0012445       0.001486
## p.failure[2]  0.268333 0.44317 0.0080911       0.008094
## p.success[1]  0.004667 0.06816 0.0012445       0.001486
## p.success[2]  0.731667 0.44317 0.0080911       0.008094
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%   97.5%
## deviance      5.4636174  6.041089  6.91947  8.36344 13.1723
## logit_p[1]   -7.0892670 -4.723583 -3.83923 -3.08871 -2.0847
## logit_p[2]   -2.4043752 -1.757928 -1.43431 -1.13465 -0.5930
## p[1]          0.0008333  0.008805  0.02106  0.04358  0.1106
## p[2]          0.0828397  0.147050  0.19243  0.24330  0.3559
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000000  0.000000  0.00000  1.00000  1.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  0.0000000  0.000000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-119.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-120.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.25&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.767862 2.19771 0.0401245       0.043543
## logit_p[1]   -4.067588 1.32054 0.0241096       0.024647
## logit_p[2]   -1.048540 0.41635 0.0076014       0.007809
## p[1]          0.029456 0.02878 0.0005254       0.000534
## p[2]          0.267131 0.07862 0.0014354       0.001468
## p.failure[1]  0.993333 0.08139 0.0014860       0.001567
## p.failure[2]  0.054333 0.22671 0.0041392       0.004432
## p.success[1]  0.006667 0.08139 0.0014860       0.001567
## p.success[2]  0.945667 0.22671 0.0041392       0.004432
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%   97.5%
## deviance      5.6481670  6.219738  7.08567  8.63012 13.6568
## logit_p[1]   -7.1973466 -4.733494 -3.85842 -3.13063 -2.1228
## logit_p[2]   -1.8932861 -1.319614 -1.03913 -0.76083 -0.2418
## p[1]          0.0007481  0.008719  0.02067  0.04186  0.1069
## p[2]          0.1308703  0.210883  0.26132  0.31847  0.4398
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.0000
## p.failure[2]  0.0000000  0.000000  0.00000  0.00000  1.0000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.0000
## p.success[2]  0.0000000  1.000000  1.00000  1.00000  1.0000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-121.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-122.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.3&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                  Mean      SD Naive SE Time-series SE
## deviance      7.89808 2.28465 0.041712      0.0464741
## logit_p[1]   -4.12616 1.33316 0.024340      0.0241263
## logit_p[2]   -0.86948 0.41241 0.007530      0.0078017
## p[1]          0.02795 0.02733 0.000499      0.0004896
## p[2]          0.30226 0.08347 0.001524      0.0015752
## p.failure[1]  0.99600 0.06313 0.001153      0.0013100
## p.failure[2]  0.02200 0.14671 0.002679      0.0027490
## p.success[1]  0.00400 0.06313 0.001153      0.0013100
## p.success[2]  0.97800 0.14671 0.002679      0.0027490
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%      50%      75%    97.5%
## deviance      5.7289777  6.283514  7.20553  8.74696 14.17013
## logit_p[1]   -7.3243744 -4.773797 -3.89723 -3.20527 -2.16986
## logit_p[2]   -1.7104652 -1.136395 -0.86309 -0.58573 -0.09727
## p[1]          0.0006589  0.008377  0.01989  0.03897  0.10249
## p[2]          0.1531034  0.242983  0.29669  0.35762  0.47570
## p.failure[1]  1.0000000  1.000000  1.00000  1.00000  1.00000
## p.failure[2]  0.0000000  0.000000  0.00000  0.00000  0.00000
## p.success[1]  0.0000000  0.000000  0.00000  0.00000  0.00000
## p.success[2]  1.0000000  1.000000  1.00000  1.00000  1.00000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-123.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-124.png" width="672" /></p>
<pre><code>## [1] &quot;NeutralPrior and Observed ORR = 0.35&quot;
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
## Graph information:
##    Observed stochastic nodes: 2
##    Unobserved stochastic nodes: 12
##    Total graph size: 70
## 
## Initializing model
## 
## 
## Iterations = 1:4996
## Thinning interval = 5 
## Number of chains = 3 
## Sample size per chain = 1000 
## 
## 1. Empirical mean and standard deviation for each variable,
##    plus standard error of the mean:
## 
##                   Mean      SD  Naive SE Time-series SE
## deviance      7.831050 2.15051 0.0392628      0.0410275
## logit_p[1]   -4.039414 1.29157 0.0235807      0.0239506
## logit_p[2]   -0.714234 0.38442 0.0070185      0.0070192
## p[1]          0.029805 0.02907 0.0005308      0.0005363
## p[2]          0.334057 0.08218 0.0015004      0.0015005
## p.failure[1]  0.994333 0.07508 0.0013707      0.0015837
## p.failure[2]  0.006333 0.07934 0.0014486      0.0014474
## p.success[1]  0.005667 0.07508 0.0013707      0.0015837
## p.success[2]  0.993667 0.07934 0.0014486      0.0014474
## 
## 2. Quantiles for each variable:
## 
##                    2.5%       25%     50%     75%    97.5%
## deviance      5.7809101  6.312360  7.1806  8.6363 13.32700
## logit_p[1]   -7.1217344 -4.706597 -3.8471 -3.1347 -2.16992
## logit_p[2]   -1.5384322 -0.955436 -0.7001 -0.4570  0.01506
## p[1]          0.0008067  0.008955  0.0209  0.0417  0.10248
## p[2]          0.1767633  0.277793  0.3318  0.3877  0.50377
## p.failure[1]  1.0000000  1.000000  1.0000  1.0000  1.00000
## p.failure[2]  0.0000000  0.000000  0.0000  0.0000  0.00000
## p.success[1]  0.0000000  0.000000  0.0000  0.0000  0.00000
## p.success[2]  1.0000000  1.000000  1.0000  1.0000  1.00000</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-125.png" width="672" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-4-126.png" width="672" /></p>
</div>
<div id="summary-of-all-outcomes" class="section level3" number="0.2.4">
<h3><span class="header-section-number">0.2.4</span> Summary of all
outcomes</h3>
<p>First plot all priors</p>
<pre class="r"><code>## Plot each prior distribution in the EX and NEX parts
prior_logit &lt;- matrix(NA, nrow=Nmix, ncol=nsim)

## Simulate to plot Ex parts and plotting prior separately
for (j in 1:Nexch) {
  tau_j &lt;- rhnorm(n = nsim, sigma = 1)
  mu_j  &lt;- rnorm(n = nsim, mean = mu.mean[j], sd = 1/mu.prec[j])
  prior_logit[j,] &lt;- sapply(1:nsim, function(x) {
    rnorm(1, mean=mu_j[x], sd=tau_j%&gt;%sqrt)
  })
  tmp_dens &lt;- prior_logit[j,] %&gt;% density
  tmpcol &lt;- col2rgb(colors[j])/255  
  par(mar=c(5.1, 4.1, 4.1, 2.1)+3)
  tmp_dens %&gt;% plot(sub=NA, lwd=2, col=colors[j], 
                              ylim=c(0,.2), xlim=c(-15,15), frame.plot=F,
                              xlab=&#39;log-odd (logit) of ORR&#39;, 
                    main=paste(priors[j],
                               &#39;Prior Distribution of True Log-Odd ORR (logit)&#39;))
  tmp_dens %&gt;% polygon(col=rgb(tmpcol[1],tmpcol[2],tmpcol[3],alpha=.5)) 
  segments(x0=mu.mean[j],x1=mu.mean[j],y0=0,y1=tmp_dens$y%&gt;%max, col=&#39;black&#39;, 
           lty=2, lwd=2)  
  axis(1, seq(-15,15,5),
       labels=inv.logit(seq(-15,15,5)) %&gt;% round(4), line=5)
  mtext(&quot;ORR&quot;,1,line=7,at=0)
} # end of for (j in 1:Nexch)</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-5-1.png" width="960" /><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-5-2.png" width="960" /></p>
<pre class="r"><code>## Now for the NEX part
prior_logit[Nmix,] &lt;- runif(nsim, -20, 20)
tmp_dens &lt;- prior_logit[Nmix,] %&gt;% density
tmpcol &lt;- col2rgb(colors[Nmix])/255
par(mar=c(5.1, 4.1, 4.1, 2.1)+3)
tmp_dens %&gt;% plot(sub=NA, lwd=2, col=colors[Nmix], 
                            ylim=c(0,.2), xlim=c(-15,15), frame.plot=F,
                            xlab=&#39;log-odd (logit)&#39;, 
                  main=paste(priors[Nmix],
                             &#39;Prior Distribution of True Log-Odd ORR (logit)&#39;))
tmp_dens %&gt;% polygon(col=rgb(tmpcol[1],tmpcol[2],tmpcol[3],alpha=.5))
axis(1, seq(-15,15,5),
     labels=inv.logit(seq(-15,15,5)) %&gt;% round(4), line=5)
mtext(&quot;ORR&quot;,1,line=7,at=0)</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-5-3.png" width="960" /></p>
<pre class="r"><code>## Overlay all priors
par(mar=c(5.1, 4.1, 4.1, 2.1)+3)
for (j in 1:Nexch) {
  tmp_dens &lt;- prior_logit[j,] %&gt;% density
  if (j==1) tmp_dens %&gt;% plot(sub=NA, lwd=2, col=colors[j], 
                              ylim=c(0,.2), xlim=c(-15,15), frame.plot=F,
                              xlab=&#39;log-odd (logit)&#39;, main=&#39;Prior Distribution of True Log-Odd ORR (logit)&#39;)
  # if (j&gt;1) tmp_dens %&gt;% lines(lwd=2, col=colors[j])
  tmpcol &lt;- col2rgb(colors[j])/255
  tmp_dens %&gt;% polygon(col=rgb(tmpcol[1],tmpcol[2],tmpcol[3],alpha=.5))
  
  segments(x0=mu.mean[j],x1=mu.mean[j],y0=0,y1=tmp_dens$y%&gt;%max, col=&#39;black&#39;, 
           lty=2, lwd=2)
} # end of for (j in 1:Nexch)

## Simulate to plot NEX part
# x &lt;- seq(-15,15, by=.001)
# x %&gt;% dstp(mu=0, tau=2, nu=1) %&gt;% lines(lwd=2, col=colors[Nmix])

tmpcol &lt;- col2rgb(colors[Nmix])/255
prior_logit[Nmix,] %&gt;% density %&gt;% polygon(col=rgb(tmpcol[1],tmpcol[2],tmpcol[3],alpha=.5))
legend(10,.2, legend=priors, fill=colors)
axis(1, seq(-15,15,5),
     labels=inv.logit(seq(-15,15,5)) %&gt;% round(4), line=5)
mtext(&quot;ORR&quot;,1,line=7,at=0)</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-5-4.png" width="960" /></p>
<pre class="r"><code># tmp2 &lt;- rcauchy(nsim, location = 0, scale = 1) 
# tmp2 %&gt;% density %&gt;% lines(lwd=2, col=colors[Nmix])
# tmpcol &lt;- col2rgb(Nmix)/255
# tmp2 %&gt;% density %&gt;% polygon(col=rgb(tmpcol[1],tmpcol[2],tmpcol[3],alpha=.5))</code></pre>
<pre class="r"><code>for (id0 in 1:length(npt)) {
  
  out_tab_p.success &lt;- matrix(NA, ncol=obs.orrs %&gt;% length, nrow=Nmix+1)
  rownames(out_tab_p.success) &lt;- c(priors, &quot;Mix&quot;)
  colnames(out_tab_p.success) &lt;- obs.orrs

  out_tab_p &lt;- out_tab_logit &lt;- out_tab_p.failure &lt;- out_tab_p.success
  
  for (id1 in 1:(Nmix+1)) {
    
    prior &lt;- priors[id1]
    
    for (id2 in 1:length(obs.orrs)) {
      
      obs.orr &lt;- obs.orrs[id2]
      
      if (id1&lt;= Nmix) {
        out_tab_p.success[id1, id2] &lt;- 
        binary_exnex_jag_fw[[prior]][[id0]][[id2]]$BUGSoutput$mean$p.success[[Nstrata]]
        
        out_tab_p.failure[id1, id2] &lt;- 
        binary_exnex_jag_fw[[prior]][[id0]][[id2]]$BUGSoutput$mean$p.failure[[Nstrata]]      
        
        out_tab_logit[id1, id2] &lt;- paste0(binary_exnex_jag_fw[[prior]][[id0]][[id2]]$BUGSoutput$summary[Nstrata+1,1] %&gt;% round(2), &#39; (&#39;,binary_exnex_jag_fw[[prior]][[id0]][[id2]]$BUGSoutput$summary[Nstrata+1,3] %&gt;% round(2),&#39;, &#39;, binary_exnex_jag_fw[[prior]][[id0]][[id2]]$BUGSoutput$summary[Nstrata+1,7] %&gt;% round(2),&#39;)&#39; ) 
        
        out_tab_p[id1, id2] &lt;- paste0(binary_exnex_jag_fw[[prior]][[id0]][[id2]]$BUGSoutput$summary[Nstrata*2+1,1] %&gt;% round(2), &#39; (&#39;,binary_exnex_jag_fw[[prior]][[id0]][[id2]]$BUGSoutput$summary[Nstrata*2+1,3] %&gt;% round(2),&#39;, &#39;, binary_exnex_jag_fw[[prior]][[id0]][[id2]]$BUGSoutput$summary[Nstrata*2+1,7] %&gt;% round(2),&#39;)&#39; )       
        
      } else {
        out_tab_p.success[id1, id2] &lt;- 
        binary_exnex_jag_dw[[id0]][[id2]]$BUGSoutput$mean$p.success[[Nstrata]]  
        
        out_tab_p.failure[id1, id2] &lt;- 
        binary_exnex_jag_dw[[id0]][[id2]]$BUGSoutput$mean$p.failure[[Nstrata]]       
        
        out_tab_logit[id1, id2] &lt;- paste0(binary_exnex_jag_dw[[id0]][[id2]]$BUGSoutput$summary[Nstrata+1,1] %&gt;% round(2), &#39; (&#39;,binary_exnex_jag_dw[[id0]][[id2]]$BUGSoutput$summary[Nstrata+1,3] %&gt;% round(2),&#39;, &#39;, binary_exnex_jag_dw[[id0]][[id2]]$BUGSoutput$summary[Nstrata+1,7] %&gt;% round(2),&#39;)&#39; ) 
        
        out_tab_p[id1, id2] &lt;- paste0(binary_exnex_jag_dw[[id0]][[id2]]$BUGSoutput$summary[Nstrata*2+1,1] %&gt;% round(2), &#39; (&#39;,binary_exnex_jag_dw[[id0]][[id2]]$BUGSoutput$summary[Nstrata*2+1,3] %&gt;% round(2),&#39;, &#39;, binary_exnex_jag_dw[[id0]][[id2]]$BUGSoutput$summary[Nstrata*2+1,7] %&gt;% round(2),&#39;)&#39; )      
      } # end of if (id1&lt;= Nmix) else ...
  
    } # end of for (id2 in 1:length(obs.orrs))
    
  } # end of for (id1 in 1:(Nmix+1)) 
  
  out_tab_p.success %&gt;% kable(digits=2, caption = paste(&#39;Posterior probability of true ORR $&gt;$&#39;, p.cut, &#39;N=&#39;, npt[id0]), format=&#39;html&#39;)  %&gt;% kable_styling(full_width = F, position = &#39;center&#39;)  %&gt;% print
  
  out_tab_p.failure %&gt;% kable(digits=2, caption = paste(&#39;Posterior probability of true ORR $&lt;$&#39;, p.cut, &#39;N=&#39;, npt[id0]), format=&#39;html&#39;)  %&gt;% kable_styling(full_width = F, position = &#39;center&#39;)  %&gt;% print
  
  out_tab_p %&gt;% kable(digits=2, caption=paste0(&#39;Posterior mean and 95% credible interval for true ORR &#39;, &#39;N=&#39;, npt[id0]), format=&#39;html&#39;)  %&gt;% kable_styling(full_width = F, position = &#39;center&#39;)  %&gt;% print
  
  out_tab_logit %&gt;% kable(digits=2, caption=paste0(&#39;Posterior mean and 95% credible interval for log-odd (logit) of true ORR &#39;, &#39;N=&#39;, npt[id0]), format=&#39;html&#39;)  %&gt;% kable_styling(full_width = F, position = &#39;center&#39;)  %&gt;% print
  
} # end of for (id0 in 1:length(npt))</code></pre>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Posterior probability of true ORR <span
class="math inline">\(&gt;\)</span> 0.15 N= 20
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
0.05
</th>
<th style="text-align:right;">
0.1
</th>
<th style="text-align:right;">
0.15
</th>
<th style="text-align:right;">
0.2
</th>
<th style="text-align:right;">
0.25
</th>
<th style="text-align:right;">
0.3
</th>
<th style="text-align:right;">
0.35
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pessimistic
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
0.20
</td>
<td style="text-align:right;">
0.41
</td>
<td style="text-align:right;">
0.66
</td>
<td style="text-align:right;">
0.84
</td>
<td style="text-align:right;">
0.93
</td>
</tr>
<tr>
<td style="text-align:left;">
Optimistic
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
0.12
</td>
<td style="text-align:right;">
0.26
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0.71
</td>
<td style="text-align:right;">
0.87
</td>
<td style="text-align:right;">
0.95
</td>
</tr>
<tr>
<td style="text-align:left;">
Neutral
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
0.20
</td>
<td style="text-align:right;">
0.46
</td>
<td style="text-align:right;">
0.70
</td>
<td style="text-align:right;">
0.85
</td>
<td style="text-align:right;">
0.94
</td>
<td style="text-align:right;">
0.98
</td>
</tr>
<tr>
<td style="text-align:left;">
Mix
</td>
<td style="text-align:right;">
0.04
</td>
<td style="text-align:right;">
0.16
</td>
<td style="text-align:right;">
0.39
</td>
<td style="text-align:right;">
0.64
</td>
<td style="text-align:right;">
0.83
</td>
<td style="text-align:right;">
0.92
</td>
<td style="text-align:right;">
0.98
</td>
</tr>
</tbody>
</table>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Posterior probability of true ORR <span
class="math inline">\(&lt;\)</span> 0.15 N= 20
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
0.05
</th>
<th style="text-align:right;">
0.1
</th>
<th style="text-align:right;">
0.15
</th>
<th style="text-align:right;">
0.2
</th>
<th style="text-align:right;">
0.25
</th>
<th style="text-align:right;">
0.3
</th>
<th style="text-align:right;">
0.35
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pessimistic
</td>
<td style="text-align:right;">
0.98
</td>
<td style="text-align:right;">
0.93
</td>
<td style="text-align:right;">
0.80
</td>
<td style="text-align:right;">
0.59
</td>
<td style="text-align:right;">
0.34
</td>
<td style="text-align:right;">
0.16
</td>
<td style="text-align:right;">
0.07
</td>
</tr>
<tr>
<td style="text-align:left;">
Optimistic
</td>
<td style="text-align:right;">
0.97
</td>
<td style="text-align:right;">
0.88
</td>
<td style="text-align:right;">
0.74
</td>
<td style="text-align:right;">
0.50
</td>
<td style="text-align:right;">
0.29
</td>
<td style="text-align:right;">
0.13
</td>
<td style="text-align:right;">
0.05
</td>
</tr>
<tr>
<td style="text-align:left;">
Neutral
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
0.80
</td>
<td style="text-align:right;">
0.54
</td>
<td style="text-align:right;">
0.30
</td>
<td style="text-align:right;">
0.15
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.02
</td>
</tr>
<tr>
<td style="text-align:left;">
Mix
</td>
<td style="text-align:right;">
0.96
</td>
<td style="text-align:right;">
0.84
</td>
<td style="text-align:right;">
0.61
</td>
<td style="text-align:right;">
0.36
</td>
<td style="text-align:right;">
0.17
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
0.02
</td>
</tr>
</tbody>
</table>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Posterior mean and 95% credible interval for true ORR N=20
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
0.05
</th>
<th style="text-align:left;">
0.1
</th>
<th style="text-align:left;">
0.15
</th>
<th style="text-align:left;">
0.2
</th>
<th style="text-align:left;">
0.25
</th>
<th style="text-align:left;">
0.3
</th>
<th style="text-align:left;">
0.35
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pessimistic
</td>
<td style="text-align:left;">
0.05 (0, 0.14)
</td>
<td style="text-align:left;">
0.07 (0.01, 0.19)
</td>
<td style="text-align:left;">
0.11 (0.03, 0.26)
</td>
<td style="text-align:left;">
0.15 (0.04, 0.32)
</td>
<td style="text-align:left;">
0.19 (0.06, 0.39)
</td>
<td style="text-align:left;">
0.24 (0.09, 0.45)
</td>
<td style="text-align:left;">
0.29 (0.12, 0.51)
</td>
</tr>
<tr>
<td style="text-align:left;">
Optimistic
</td>
<td style="text-align:left;">
0.05 (0.01, 0.15)
</td>
<td style="text-align:left;">
0.09 (0.02, 0.21)
</td>
<td style="text-align:left;">
0.12 (0.03, 0.27)
</td>
<td style="text-align:left;">
0.16 (0.05, 0.34)
</td>
<td style="text-align:left;">
0.21 (0.07, 0.41)
</td>
<td style="text-align:left;">
0.26 (0.1, 0.47)
</td>
<td style="text-align:left;">
0.31 (0.13, 0.53)
</td>
</tr>
<tr>
<td style="text-align:left;">
Neutral
</td>
<td style="text-align:left;">
0.05 (0, 0.17)
</td>
<td style="text-align:left;">
0.1 (0.01, 0.26)
</td>
<td style="text-align:left;">
0.15 (0.03, 0.34)
</td>
<td style="text-align:left;">
0.2 (0.06, 0.41)
</td>
<td style="text-align:left;">
0.25 (0.09, 0.45)
</td>
<td style="text-align:left;">
0.3 (0.13, 0.5)
</td>
<td style="text-align:left;">
0.35 (0.16, 0.57)
</td>
</tr>
<tr>
<td style="text-align:left;">
Mix
</td>
<td style="text-align:left;">
0.06 (0, 0.17)
</td>
<td style="text-align:left;">
0.09 (0.02, 0.24)
</td>
<td style="text-align:left;">
0.14 (0.03, 0.33)
</td>
<td style="text-align:left;">
0.19 (0.06, 0.37)
</td>
<td style="text-align:left;">
0.24 (0.08, 0.45)
</td>
<td style="text-align:left;">
0.29 (0.11, 0.49)
</td>
<td style="text-align:left;">
0.33 (0.16, 0.54)
</td>
</tr>
</tbody>
</table>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Posterior mean and 95% credible interval for log-odd (logit) of true ORR
N=20
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
0.05
</th>
<th style="text-align:left;">
0.1
</th>
<th style="text-align:left;">
0.15
</th>
<th style="text-align:left;">
0.2
</th>
<th style="text-align:left;">
0.25
</th>
<th style="text-align:left;">
0.3
</th>
<th style="text-align:left;">
0.35
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pessimistic
</td>
<td style="text-align:left;">
-3.35 (-5.34, -1.83)
</td>
<td style="text-align:left;">
-2.8 (-4.35, -1.42)
</td>
<td style="text-align:left;">
-2.3 (-3.66, -1.03)
</td>
<td style="text-align:left;">
-1.89 (-3.12, -0.74)
</td>
<td style="text-align:left;">
-1.52 (-2.76, -0.44)
</td>
<td style="text-align:left;">
-1.21 (-2.37, -0.21)
</td>
<td style="text-align:left;">
-0.95 (-2.01, 0.03)
</td>
</tr>
<tr>
<td style="text-align:left;">
Optimistic
</td>
<td style="text-align:left;">
-3.08 (-4.57, -1.7)
</td>
<td style="text-align:left;">
-2.55 (-4.11, -1.31)
</td>
<td style="text-align:left;">
-2.15 (-3.48, -0.99)
</td>
<td style="text-align:left;">
-1.74 (-2.93, -0.65)
</td>
<td style="text-align:left;">
-1.43 (-2.54, -0.36)
</td>
<td style="text-align:left;">
-1.13 (-2.22, -0.12)
</td>
<td style="text-align:left;">
-0.85 (-1.92, 0.1)
</td>
</tr>
<tr>
<td style="text-align:left;">
Neutral
</td>
<td style="text-align:left;">
-3.53 (-6.67, -1.58)
</td>
<td style="text-align:left;">
-2.44 (-4.34, -1.05)
</td>
<td style="text-align:left;">
-1.87 (-3.32, -0.65)
</td>
<td style="text-align:left;">
-1.47 (-2.72, -0.38)
</td>
<td style="text-align:left;">
-1.19 (-2.36, -0.18)
</td>
<td style="text-align:left;">
-0.91 (-1.95, 0.01)
</td>
<td style="text-align:left;">
-0.64 (-1.64, 0.29)
</td>
</tr>
<tr>
<td style="text-align:left;">
Mix
</td>
<td style="text-align:left;">
-3.16 (-5.35, -1.58)
</td>
<td style="text-align:left;">
-2.47 (-4.1, -1.16)
</td>
<td style="text-align:left;">
-1.95 (-3.43, -0.71)
</td>
<td style="text-align:left;">
-1.55 (-2.74, -0.51)
</td>
<td style="text-align:left;">
-1.23 (-2.4, -0.18)
</td>
<td style="text-align:left;">
-0.97 (-2.08, -0.05)
</td>
<td style="text-align:left;">
-0.73 (-1.69, 0.16)
</td>
</tr>
</tbody>
</table>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Posterior probability of true ORR <span
class="math inline">\(&gt;\)</span> 0.15 N= 25
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
0.05
</th>
<th style="text-align:right;">
0.1
</th>
<th style="text-align:right;">
0.15
</th>
<th style="text-align:right;">
0.2
</th>
<th style="text-align:right;">
0.25
</th>
<th style="text-align:right;">
0.3
</th>
<th style="text-align:right;">
0.35
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pessimistic
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
0.25
</td>
<td style="text-align:right;">
0.48
</td>
<td style="text-align:right;">
0.67
</td>
<td style="text-align:right;">
0.94
</td>
<td style="text-align:right;">
0.98
</td>
</tr>
<tr>
<td style="text-align:left;">
Optimistic
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.33
</td>
<td style="text-align:right;">
0.55
</td>
<td style="text-align:right;">
0.72
</td>
<td style="text-align:right;">
0.93
</td>
<td style="text-align:right;">
0.98
</td>
</tr>
<tr>
<td style="text-align:left;">
Neutral
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
0.11
</td>
<td style="text-align:right;">
0.52
</td>
<td style="text-align:right;">
0.73
</td>
<td style="text-align:right;">
0.86
</td>
<td style="text-align:right;">
0.98
</td>
<td style="text-align:right;">
1.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Mix
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.09
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
0.67
</td>
<td style="text-align:right;">
0.83
</td>
<td style="text-align:right;">
0.98
</td>
<td style="text-align:right;">
0.99
</td>
</tr>
</tbody>
</table>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Posterior probability of true ORR <span
class="math inline">\(&lt;\)</span> 0.15 N= 25
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
0.05
</th>
<th style="text-align:right;">
0.1
</th>
<th style="text-align:right;">
0.15
</th>
<th style="text-align:right;">
0.2
</th>
<th style="text-align:right;">
0.25
</th>
<th style="text-align:right;">
0.3
</th>
<th style="text-align:right;">
0.35
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pessimistic
</td>
<td style="text-align:right;">
0.99
</td>
<td style="text-align:right;">
0.97
</td>
<td style="text-align:right;">
0.75
</td>
<td style="text-align:right;">
0.52
</td>
<td style="text-align:right;">
0.33
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.02
</td>
</tr>
<tr>
<td style="text-align:left;">
Optimistic
</td>
<td style="text-align:right;">
0.98
</td>
<td style="text-align:right;">
0.94
</td>
<td style="text-align:right;">
0.67
</td>
<td style="text-align:right;">
0.45
</td>
<td style="text-align:right;">
0.28
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
0.02
</td>
</tr>
<tr>
<td style="text-align:left;">
Neutral
</td>
<td style="text-align:right;">
0.98
</td>
<td style="text-align:right;">
0.89
</td>
<td style="text-align:right;">
0.48
</td>
<td style="text-align:right;">
0.27
</td>
<td style="text-align:right;">
0.14
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Mix
</td>
<td style="text-align:right;">
0.98
</td>
<td style="text-align:right;">
0.91
</td>
<td style="text-align:right;">
0.55
</td>
<td style="text-align:right;">
0.33
</td>
<td style="text-align:right;">
0.17
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.01
</td>
</tr>
</tbody>
</table>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Posterior mean and 95% credible interval for true ORR N=25
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
0.05
</th>
<th style="text-align:left;">
0.1
</th>
<th style="text-align:left;">
0.15
</th>
<th style="text-align:left;">
0.2
</th>
<th style="text-align:left;">
0.25
</th>
<th style="text-align:left;">
0.3
</th>
<th style="text-align:left;">
0.35
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pessimistic
</td>
<td style="text-align:left;">
0.04 (0, 0.11)
</td>
<td style="text-align:left;">
0.06 (0.01, 0.16)
</td>
<td style="text-align:left;">
0.12 (0.04, 0.26)
</td>
<td style="text-align:left;">
0.15 (0.05, 0.31)
</td>
<td style="text-align:left;">
0.2 (0.07, 0.38)
</td>
<td style="text-align:left;">
0.27 (0.12, 0.45)
</td>
<td style="text-align:left;">
0.32 (0.15, 0.5)
</td>
</tr>
<tr>
<td style="text-align:left;">
Optimistic
</td>
<td style="text-align:left;">
0.05 (0.01, 0.13)
</td>
<td style="text-align:left;">
0.07 (0.02, 0.18)
</td>
<td style="text-align:left;">
0.13 (0.04, 0.28)
</td>
<td style="text-align:left;">
0.17 (0.06, 0.33)
</td>
<td style="text-align:left;">
0.2 (0.08, 0.38)
</td>
<td style="text-align:left;">
0.28 (0.12, 0.48)
</td>
<td style="text-align:left;">
0.32 (0.16, 0.51)
</td>
</tr>
<tr>
<td style="text-align:left;">
Neutral
</td>
<td style="text-align:left;">
0.04 (0, 0.15)
</td>
<td style="text-align:left;">
0.08 (0.01, 0.21)
</td>
<td style="text-align:left;">
0.16 (0.04, 0.32)
</td>
<td style="text-align:left;">
0.2 (0.07, 0.38)
</td>
<td style="text-align:left;">
0.24 (0.1, 0.42)
</td>
<td style="text-align:left;">
0.32 (0.16, 0.5)
</td>
<td style="text-align:left;">
0.36 (0.19, 0.55)
</td>
</tr>
<tr>
<td style="text-align:left;">
Mix
</td>
<td style="text-align:left;">
0.05 (0, 0.14)
</td>
<td style="text-align:left;">
0.08 (0.01, 0.2)
</td>
<td style="text-align:left;">
0.15 (0.04, 0.31)
</td>
<td style="text-align:left;">
0.19 (0.07, 0.37)
</td>
<td style="text-align:left;">
0.23 (0.09, 0.41)
</td>
<td style="text-align:left;">
0.31 (0.15, 0.5)
</td>
<td style="text-align:left;">
0.35 (0.18, 0.54)
</td>
</tr>
</tbody>
</table>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Posterior mean and 95% credible interval for log-odd (logit) of true ORR
N=25
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
0.05
</th>
<th style="text-align:left;">
0.1
</th>
<th style="text-align:left;">
0.15
</th>
<th style="text-align:left;">
0.2
</th>
<th style="text-align:left;">
0.25
</th>
<th style="text-align:left;">
0.3
</th>
<th style="text-align:left;">
0.35
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pessimistic
</td>
<td style="text-align:left;">
-3.66 (-5.73, -2.05)
</td>
<td style="text-align:left;">
-2.99 (-4.5, -1.66)
</td>
<td style="text-align:left;">
-2.13 (-3.28, -1.05)
</td>
<td style="text-align:left;">
-1.8 (-2.92, -0.78)
</td>
<td style="text-align:left;">
-1.49 (-2.55, -0.51)
</td>
<td style="text-align:left;">
-1.02 (-1.95, -0.19)
</td>
<td style="text-align:left;">
-0.81 (-1.7, 0.02)
</td>
</tr>
<tr>
<td style="text-align:left;">
Optimistic
</td>
<td style="text-align:left;">
-3.1 (-4.58, -1.88)
</td>
<td style="text-align:left;">
-2.69 (-4.09, -1.53)
</td>
<td style="text-align:left;">
-1.98 (-3.06, -0.93)
</td>
<td style="text-align:left;">
-1.68 (-2.74, -0.73)
</td>
<td style="text-align:left;">
-1.44 (-2.49, -0.51)
</td>
<td style="text-align:left;">
-0.99 (-1.97, -0.08)
</td>
<td style="text-align:left;">
-0.77 (-1.68, 0.06)
</td>
</tr>
<tr>
<td style="text-align:left;">
Neutral
</td>
<td style="text-align:left;">
-3.75 (-6.75, -1.74)
</td>
<td style="text-align:left;">
-2.7 (-4.61, -1.3)
</td>
<td style="text-align:left;">
-1.76 (-3.06, -0.75)
</td>
<td style="text-align:left;">
-1.46 (-2.58, -0.5)
</td>
<td style="text-align:left;">
-1.21 (-2.23, -0.33)
</td>
<td style="text-align:left;">
-0.79 (-1.67, 0.01)
</td>
<td style="text-align:left;">
-0.6 (-1.44, 0.2)
</td>
</tr>
<tr>
<td style="text-align:left;">
Mix
</td>
<td style="text-align:left;">
-3.36 (-5.58, -1.79)
</td>
<td style="text-align:left;">
-2.67 (-4.27, -1.36)
</td>
<td style="text-align:left;">
-1.84 (-3.08, -0.78)
</td>
<td style="text-align:left;">
-1.53 (-2.64, -0.54)
</td>
<td style="text-align:left;">
-1.27 (-2.29, -0.37)
</td>
<td style="text-align:left;">
-0.82 (-1.71, 0.01)
</td>
<td style="text-align:left;">
-0.65 (-1.53, 0.15)
</td>
</tr>
</tbody>
</table>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Posterior probability of true ORR <span
class="math inline">\(&gt;\)</span> 0.15 N= 30
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
0.05
</th>
<th style="text-align:right;">
0.1
</th>
<th style="text-align:right;">
0.15
</th>
<th style="text-align:right;">
0.2
</th>
<th style="text-align:right;">
0.25
</th>
<th style="text-align:right;">
0.3
</th>
<th style="text-align:right;">
0.35
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pessimistic
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
0.15
</td>
<td style="text-align:right;">
0.51
</td>
<td style="text-align:right;">
0.85
</td>
<td style="text-align:right;">
0.93
</td>
<td style="text-align:right;">
0.98
</td>
</tr>
<tr>
<td style="text-align:left;">
Optimistic
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
0.22
</td>
<td style="text-align:right;">
0.57
</td>
<td style="text-align:right;">
0.86
</td>
<td style="text-align:right;">
0.94
</td>
<td style="text-align:right;">
0.98
</td>
</tr>
<tr>
<td style="text-align:left;">
Neutral
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.17
</td>
<td style="text-align:right;">
0.35
</td>
<td style="text-align:right;">
0.73
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
0.98
</td>
<td style="text-align:right;">
0.99
</td>
</tr>
<tr>
<td style="text-align:left;">
Mix
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
0.14
</td>
<td style="text-align:right;">
0.30
</td>
<td style="text-align:right;">
0.70
</td>
<td style="text-align:right;">
0.92
</td>
<td style="text-align:right;">
0.98
</td>
<td style="text-align:right;">
0.99
</td>
</tr>
</tbody>
</table>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Posterior probability of true ORR <span
class="math inline">\(&lt;\)</span> 0.15 N= 30
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
0.05
</th>
<th style="text-align:right;">
0.1
</th>
<th style="text-align:right;">
0.15
</th>
<th style="text-align:right;">
0.2
</th>
<th style="text-align:right;">
0.25
</th>
<th style="text-align:right;">
0.3
</th>
<th style="text-align:right;">
0.35
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pessimistic
</td>
<td style="text-align:right;">
0.98
</td>
<td style="text-align:right;">
0.93
</td>
<td style="text-align:right;">
0.85
</td>
<td style="text-align:right;">
0.49
</td>
<td style="text-align:right;">
0.15
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
0.02
</td>
</tr>
<tr>
<td style="text-align:left;">
Optimistic
</td>
<td style="text-align:right;">
0.97
</td>
<td style="text-align:right;">
0.90
</td>
<td style="text-align:right;">
0.78
</td>
<td style="text-align:right;">
0.43
</td>
<td style="text-align:right;">
0.14
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.02
</td>
</tr>
<tr>
<td style="text-align:left;">
Neutral
</td>
<td style="text-align:right;">
0.94
</td>
<td style="text-align:right;">
0.83
</td>
<td style="text-align:right;">
0.65
</td>
<td style="text-align:right;">
0.27
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.01
</td>
</tr>
<tr>
<td style="text-align:left;">
Mix
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
0.86
</td>
<td style="text-align:right;">
0.70
</td>
<td style="text-align:right;">
0.30
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.01
</td>
</tr>
</tbody>
</table>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Posterior mean and 95% credible interval for true ORR N=30
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
0.05
</th>
<th style="text-align:left;">
0.1
</th>
<th style="text-align:left;">
0.15
</th>
<th style="text-align:left;">
0.2
</th>
<th style="text-align:left;">
0.25
</th>
<th style="text-align:left;">
0.3
</th>
<th style="text-align:left;">
0.35
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pessimistic
</td>
<td style="text-align:left;">
0.05 (0.01, 0.14)
</td>
<td style="text-align:left;">
0.08 (0.02, 0.19)
</td>
<td style="text-align:left;">
0.1 (0.03, 0.22)
</td>
<td style="text-align:left;">
0.16 (0.06, 0.31)
</td>
<td style="text-align:left;">
0.23 (0.1, 0.39)
</td>
<td style="text-align:left;">
0.26 (0.12, 0.42)
</td>
<td style="text-align:left;">
0.29 (0.15, 0.47)
</td>
</tr>
<tr>
<td style="text-align:left;">
Optimistic
</td>
<td style="text-align:left;">
0.07 (0.02, 0.16)
</td>
<td style="text-align:left;">
0.09 (0.03, 0.2)
</td>
<td style="text-align:left;">
0.11 (0.04, 0.24)
</td>
<td style="text-align:left;">
0.17 (0.06, 0.32)
</td>
<td style="text-align:left;">
0.23 (0.1, 0.4)
</td>
<td style="text-align:left;">
0.27 (0.13, 0.44)
</td>
<td style="text-align:left;">
0.31 (0.16, 0.49)
</td>
</tr>
<tr>
<td style="text-align:left;">
Neutral
</td>
<td style="text-align:left;">
0.07 (0.01, 0.18)
</td>
<td style="text-align:left;">
0.1 (0.02, 0.23)
</td>
<td style="text-align:left;">
0.13 (0.04, 0.28)
</td>
<td style="text-align:left;">
0.2 (0.08, 0.36)
</td>
<td style="text-align:left;">
0.27 (0.13, 0.44)
</td>
<td style="text-align:left;">
0.3 (0.15, 0.48)
</td>
<td style="text-align:left;">
0.33 (0.18, 0.5)
</td>
</tr>
<tr>
<td style="text-align:left;">
Mix
</td>
<td style="text-align:left;">
0.07 (0.01, 0.17)
</td>
<td style="text-align:left;">
0.1 (0.02, 0.22)
</td>
<td style="text-align:left;">
0.13 (0.04, 0.26)
</td>
<td style="text-align:left;">
0.19 (0.07, 0.35)
</td>
<td style="text-align:left;">
0.26 (0.12, 0.43)
</td>
<td style="text-align:left;">
0.29 (0.15, 0.46)
</td>
<td style="text-align:left;">
0.33 (0.18, 0.5)
</td>
</tr>
</tbody>
</table>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Posterior mean and 95% credible interval for log-odd (logit) of true ORR
N=30
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
0.05
</th>
<th style="text-align:left;">
0.1
</th>
<th style="text-align:left;">
0.15
</th>
<th style="text-align:left;">
0.2
</th>
<th style="text-align:left;">
0.25
</th>
<th style="text-align:left;">
0.3
</th>
<th style="text-align:left;">
0.35
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Pessimistic
</td>
<td style="text-align:left;">
-3.07 (-4.56, -1.85)
</td>
<td style="text-align:left;">
-2.64 (-4.01, -1.48)
</td>
<td style="text-align:left;">
-2.3 (-3.47, -1.29)
</td>
<td style="text-align:left;">
-1.74 (-2.72, -0.79)
</td>
<td style="text-align:left;">
-1.27 (-2.22, -0.44)
</td>
<td style="text-align:left;">
-1.09 (-1.96, -0.31)
</td>
<td style="text-align:left;">
-0.91 (-1.72, -0.13)
</td>
</tr>
<tr>
<td style="text-align:left;">
Optimistic
</td>
<td style="text-align:left;">
-2.77 (-3.99, -1.69)
</td>
<td style="text-align:left;">
-2.46 (-3.65, -1.39)
</td>
<td style="text-align:left;">
-2.15 (-3.27, -1.15)
</td>
<td style="text-align:left;">
-1.66 (-2.72, -0.75)
</td>
<td style="text-align:left;">
-1.23 (-2.16, -0.39)
</td>
<td style="text-align:left;">
-1.04 (-1.9, -0.26)
</td>
<td style="text-align:left;">
-0.84 (-1.67, -0.05)
</td>
</tr>
<tr>
<td style="text-align:left;">
Neutral
</td>
<td style="text-align:left;">
-2.89 (-4.77, -1.51)
</td>
<td style="text-align:left;">
-2.36 (-3.87, -1.21)
</td>
<td style="text-align:left;">
-1.97 (-3.19, -0.95)
</td>
<td style="text-align:left;">
-1.46 (-2.4, -0.59)
</td>
<td style="text-align:left;">
-1.05 (-1.89, -0.24)
</td>
<td style="text-align:left;">
-0.87 (-1.71, -0.1)
</td>
<td style="text-align:left;">
-0.71 (-1.54, 0.02)
</td>
</tr>
<tr>
<td style="text-align:left;">
Mix
</td>
<td style="text-align:left;">
-2.83 (-4.29, -1.56)
</td>
<td style="text-align:left;">
-2.4 (-3.74, -1.29)
</td>
<td style="text-align:left;">
-2.05 (-3.25, -1.04)
</td>
<td style="text-align:left;">
-1.51 (-2.56, -0.64)
</td>
<td style="text-align:left;">
-1.1 (-2.01, -0.3)
</td>
<td style="text-align:left;">
-0.92 (-1.72, -0.14)
</td>
<td style="text-align:left;">
-0.75 (-1.55, -0.02)
</td>
</tr>
</tbody>
</table>
<pre class="r"><code># to-do: add summary table for Rhat and n_eff</code></pre>
</div>
</div>
<div id="association-between-lor-and-lhr" class="section level2"
number="0.3">
<h2><span class="header-section-number">0.3</span> Association between
LOR and LHR</h2>
<div id="load-data-1" class="section level3" number="0.3.1">
<h3><span class="header-section-number">0.3.1</span> Load data</h3>
<pre class="r"><code>data.raw &lt;- readxl::read_xlsx(path = &#39;PRROC.xlsx&#39;, range = cell_cols(&#39;A:M&#39;))
data.use &lt;- data.raw %&gt;% dplyr::filter(one_class_mod==&#39;Y&#39;)

data.use %&gt;% kbl() %&gt;% kable_styling()</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
study
</th>
<th style="text-align:right;">
res_a
</th>
<th style="text-align:right;">
n_a
</th>
<th style="text-align:right;">
res_b
</th>
<th style="text-align:right;">
n_b
</th>
<th style="text-align:right;">
hr_pfs_ab
</th>
<th style="text-align:right;">
hr_pfs_low
</th>
<th style="text-align:right;">
hr_pfs_upp
</th>
<th style="text-align:right;">
code_a
</th>
<th style="text-align:right;">
code_b
</th>
<th style="text-align:left;">
one_class_mod
</th>
<th style="text-align:left;">
dynamic_borrow_SAT
</th>
<th style="text-align:left;">
des
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:right;">
0.570
</td>
<td style="text-align:right;">
0.330
</td>
<td style="text-align:right;">
0.980
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Konstantinopoulos PA, Lancet Oncol. 2020
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
0.550
</td>
<td style="text-align:right;">
0.350
</td>
<td style="text-align:right;">
0.900
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
Lheureux S, Lancet. 2021
</td>
</tr>
<tr>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
248
</td>
<td style="text-align:right;">
14
</td>
<td style="text-align:right;">
118
</td>
<td style="text-align:right;">
0.980
</td>
<td style="text-align:right;">
0.730
</td>
<td style="text-align:right;">
1.310
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
ESMO 2019
</td>
</tr>
<tr>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:right;">
221
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
221
</td>
<td style="text-align:right;">
1.057
</td>
<td style="text-align:right;">
0.854
</td>
<td style="text-align:right;">
1.309
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
CORAIL
</td>
</tr>
<tr>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
49
</td>
<td style="text-align:right;">
179
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
182
</td>
<td style="text-align:right;">
0.420
</td>
<td style="text-align:right;">
0.320
</td>
<td style="text-align:right;">
0.530
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
AURELIA
</td>
</tr>
<tr>
<td style="text-align:right;">
13
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
119
</td>
<td style="text-align:right;">
15
</td>
<td style="text-align:right;">
114
</td>
<td style="text-align:right;">
1.500
</td>
<td style="text-align:right;">
1.200
</td>
<td style="text-align:right;">
1.900
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Y
</td>
<td style="text-align:left;">
N
</td>
<td style="text-align:left;">
NINJA
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>ns &lt;- data.use %&gt;% nrow
y  &lt;- se &lt;- matrix(NA, ncol=2, nrow=ns)

for (i in 1:ns) {
  s1 &lt;- data.use$res_a[i]
  n1 &lt;- data.use$n_a[i]
  
  s2 &lt;- data.use$res_b[i]
  n2 &lt;- data.use$n_b[i]  
  
  hr &lt;- data.use$hr_pfs_ab[i]
  low&lt;- data.use$hr_pfs_low[i]
  upp&lt;- data.use$hr_pfs_upp[i]

  lor_sd &lt;- lor.sd(s1,n1,s2,n2)
  lhr_sd &lt;- lhr.sd(hr,low,upp)
  
  y[i,1:2]  &lt;- c(lor_sd[1], lhr_sd[1])
  se[i,1:2] &lt;- c(lor_sd[2], lhr_sd[2])
} # end of for (i in 1:ns)

## Naive linear plot
symbols(x=y[,1], y=y[,2], circle = (data.use$n_a+data.use$n_b)/pi, inches=1/3,
        ann=T, bg=&#39;steelblue2&#39;, fg=NULL, xlab=&#39;LOR&#39;, ylab=&#39;LHR&#39;)

lm(y[,2]~y[,1]) %&gt;% abline(col=&#39;red&#39;, lwd=2)</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
</div>
<div id="winbugs-model-for-one-treatment-class" class="section level3"
number="0.3.2">
<h3><span class="header-section-number">0.3.2</span> WinBUGs model for
one treatment class</h3>
<p>This is based on formulae (1) and (2) of <a
href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7065251/"
class="uri">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7065251/</a></p>
<pre class="r"><code>### Model definition 
bvnma_one_class_model &lt;- function() {
## Data to be specify in the input
#-------------------------------------------------------------------------------
# ns    - number of studies
# y     - ns x 2 matrix, each row shows the treatment effect in the surrogate endpoint (1st element) and main endpoint (2nd element)
# se    - ns x 2 matrix, each row shows the (study-specific) se of the surrogate (1st element) and main endpoint (2nd element)
  
## Parameter to be monitored
# mu1
  
## Parameter to be monitored for surrogacy assessment
# lambda0     - intercept, ideally being 0
# lambda1     - slope, ideally &gt;&lt; 0
# big.psi.sq  - conditional variance, ideally being 0
#-------------------------------------------------------------------------------
  
  # within study precision matrix
  for(i in 1:ns) {
    prec_w[i,1:2,1:2] &lt;- inverse(Sigma[i,1:2,1:2])
    # covariance matrix for the i-th study
    Sigma[i,1,1] &lt;- pow(se[i,1], 2)
    Sigma[i,2,2] &lt;- pow(se[i,2], 2)
    Sigma[i,1,2] &lt;- se[i,1] * se[i,2] * rho_w#[i]
    Sigma[i,2,1] &lt;- se[i,1] * se[i,2] * rho_w    
  }
  
  # Random effects model
  for(i in 1:ns) {
    y[i,1:2] ~ dmnorm(mu[i,1:2], prec_w[i,1:2,1:2])   
    
    # product normal formulation for the between study part
    mu[i,1] &lt;- mu1[i]
    mu1[i]  ~ dnorm(0, a)
    # mu[i,1] &lt;- dnorm(0, a)  
    mu[i,2] ~ dnorm(tmp[i], inv.big.psi.sq)
    tmp[i]  &lt;- lambda0 + lambda1 * mu1[i]
    # tmp[i]  &lt;- lambda0 + lambda1 * mu[i,1]
    
    #rho_w[i] &lt;- dunif(-1, 1)
    y_new[i,1:2] ~ dmnorm(mu[i,1:2], prec_w[i,1:2,1:2]) 
  } # end of for(i in 1:ns)
  
  lambda0 ~ dnorm(0, a)
  lambda1 ~ dnorm(0, a)
  inv.big.psi.sq &lt;- 1/ big.psi.sq # putting 1/big.psi.sq directly into dnorm(,) not work!
  big.psi.sq &lt;- abs(tmp2)
  tmp2 ~ dnorm(0, b)# dnorm(0, b)I(0,) # the latter form does not work!
  rho_w ~ dunif(-1,1) #-.05 #dunif(-1,1) # giving rho_w prior either not work or not converge
  a &lt;- 0.001
  b &lt;- 2
  
  # # predict Y2 for given Y1
  # for(i in 1:nn) { #nn is number of new y1n
  #   y2n ~ dnorm(mu2n, pre2n)
  #   m2n &lt;- mu
  # }

} # end of bvnma_one_class_model

write.model(bvnma_one_class_model, &#39;bvnma_one_class_model.bug&#39;)

### Parameters to monitor
parameters_one_class_model &lt;- c(&#39;mu1&#39;, &#39;lambda0&#39;, &#39;lambda1&#39;,&#39;big.psi.sq&#39;, 
                                &#39;rho_w&#39;, &#39;y_new&#39;)

# ns &lt;- 5 # number of studies

### Inits
inits_one_class_model &lt;- function() {

  list(
    &quot;mu1&quot;= rnorm(ns, 0, 1),
    # &quot;mu&quot;= c(rnorm(5, 0, 1), rep(NA, 5)) %&gt;% matrix(nrow=5, byrow = F),
    &quot;lambda0&quot;= rnorm(1, 0, 1),
    &quot;lambda1&quot;= rnorm(1, 0, 1),
    &quot;big.psi.sq&quot;= rnorm(1, 0, 1) %&gt;% abs,
    # rho_w=runif(5, -1, 1)
    &quot;rho_w&quot;=runif(1, -1, 1)
    )  
} # end of inits_one_class_model

### Data
# data_one_class_model &lt;- list(
#   &quot;ns&quot;=ns,
#   &quot;y&quot;=c(1.46, 2.17, 1.1, 2.22, 0.58, 1.29, 1.41, 2.63, 1.36, 3) %&gt;%  matrix(nrow=ns, byrow = T),
#   &quot;se&quot;= c(.24, .21, .23, .2, .23, .22, .22, .25, .19, .2) %&gt;%  matrix(nrow=ns, byrow = T)
# )
data_one_class_model &lt;- list(ns=ns, y=y, se= se)

### Run MCMC
set.seed(36)
bvnma_one_class_bug &lt;- bugs(data = data_one_class_model, inits = 
                            inits_one_class_model, parameters.to.save = 
                            parameters_one_class_model, 
                            model.file = &quot;bvnma_one_class_model.bug&quot;,
                            n.chains=3, n.iter=20e4,
                            clearWD=T, bugs.directory=&quot;C:/Users/nguyea37/Documents/WinBUGS14&quot;)
print(bvnma_one_class_bug)</code></pre>
<pre><code>## Inference for Bugs model at &quot;bvnma_one_class_model.bug&quot;, fit using WinBUGS,
##  3 chains, each with 2e+05 iterations (first 1e+05 discarded), n.thin = 300
##  n.sims = 1002 iterations saved
##            mean  sd 2.5%  25%  50%  75% 97.5% Rhat n.eff
## mu1[1]     -0.9 1.2 -3.4 -1.7 -0.8 -0.1   1.3    1   910
## mu1[2]      1.4 0.7  0.0  1.0  1.4  1.9   2.8    1  1000
## mu1[3]      0.7 0.3  0.1  0.5  0.7  0.9   1.3    1   280
## mu1[4]      0.2 0.3 -0.4  0.0  0.2  0.3   0.7    1   690
## mu1[5]      1.1 0.3  0.5  0.9  1.1  1.3   1.6    1  1000
## mu1[6]     -0.6 0.4 -1.5 -0.9 -0.6 -0.3   0.3    1  1000
## lambda0    -0.1 0.3 -0.7 -0.3 -0.1  0.1   0.6    1   790
## lambda1    -0.3 0.4 -1.2 -0.5 -0.3 -0.1   0.4    1  1000
## big.psi.sq  0.3 0.3  0.0  0.1  0.3  0.5   1.1    1   270
## rho_w       0.0 0.6 -0.9 -0.5 -0.1  0.5   0.9    1  1000
## y_new[1,1] -0.9 1.6 -4.0 -2.0 -0.9  0.1   2.2    1   320
## y_new[1,2] -0.4 0.7 -1.7 -0.8 -0.3  0.1   0.9    1   300
## y_new[2,1]  1.4 1.1 -0.6  0.7  1.4  2.2   3.5    1  1000
## y_new[2,2] -0.6 0.6 -1.8 -1.0 -0.6 -0.2   0.6    1   470
## y_new[3,1]  0.7 0.4 -0.2  0.4  0.7  1.0   1.6    1   180
## y_new[3,2] -0.1 0.5 -1.1 -0.5 -0.2  0.2   0.9    1   410
## y_new[4,1]  0.2 0.4 -0.6 -0.1  0.2  0.4   1.0    1  1000
## y_new[4,2]  0.0 0.4 -0.8 -0.3  0.0  0.3   0.8    1  1000
## y_new[5,1]  1.1 0.4  0.2  0.8  1.1  1.4   1.8    1  1000
## y_new[5,2] -0.7 0.5 -1.6 -1.0 -0.7 -0.3   0.3    1   490
## y_new[6,1] -0.6 0.6 -1.8 -1.0 -0.6 -0.2   0.6    1   590
## y_new[6,2]  0.3 0.5 -0.6  0.0  0.3  0.6   1.2    1  1000
## deviance   10.2 6.1 -4.1  6.7 10.6 14.0  21.4    1  1000
## 
## For each parameter, n.eff is a crude measure of effective sample size,
## and Rhat is the potential scale reduction factor (at convergence, Rhat=1).
## 
## DIC info (using the rule, pD = Dbar-Dhat)
## pD = 7.4 and DIC = 17.6
## DIC is an estimate of expected predictive error (lower deviance is better).</code></pre>
<pre class="r"><code>plot(bvnma_one_class_bug)</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-8-1.png" width="960" /></p>
<pre class="r"><code># ### Convergence diagnostic plot
# mcmcplots::mcmcplot(bvnma_one_class_bug)

### Credible interval for selected parameters
par(mar=c(5.1, 4.1+3, 4.1, 2.1))
mcmcplots::caterplot(bvnma_one_class_bug, parms = c(&#39;lambda0&#39;, &#39;lambda1&#39;,&#39;big.psi.sq&#39;), labels=c(&#39;lambda_0\n Intercept \n ideally being 0&#39;, &#39;lambda_1\n Slope\n ideally &lt; 0&#39;,
       &#39;psi^2\n Conditional variance\n ideally being 0&#39;), reorder = F, frame.plot=F, style=&#39;plain&#39;)</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-8-2.png" width="960" /></p>
<pre class="r"><code>### Density plot for selected parameters
mcmcplots::denplot(bvnma_one_class_bug, parms = c(&#39;lambda0&#39;, &#39;lambda1&#39;,&#39;big.psi.sq&#39;), collapse = T, 
main=c(&#39;$\\lambda_0$ - Intercept, ideally being 0&#39;, &#39;$\\lambda_1$ - Slope, ideally &gt;&lt; 0&#39;,
       &#39;$\\psi^2$  - conditional variance, ideally being 0&#39;), style = &#39;plain&#39;, frame.plot=F)</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-8-3.png" width="960" /></p>
<pre class="r"><code># ### Convert Bug obj to MCMC obj so more function can work with
# bvnma_one_class_mcmc &lt;- bvnma_one_class_bug %&gt;% as.mcmc.bugs
# 
# bvnma_one_class_mcmc %&gt;% geweke.plot
# 
# bvnma_one_class_mcmc %&gt;% gelman.plot
# 
# bvnma_one_class_mcmc %&gt;% autocorr.plot
# 
# bvnma_one_class_bug %&gt;% autoplot

## Naive linear plot plus simulation from posterior predictive dist
library(randomcoloR)</code></pre>
<pre><code>## Warning: package &#39;randomcoloR&#39; was built under R version 4.2.2</code></pre>
<pre class="r"><code>cols &lt;- distinctColorPalette(ns)
# symbols(x=y[,1], y=y[,2], circle = (data.use$n_a+data.use$n_b)/pi, inches=1/3,
#         ann=T, bg=cols[id], fg=NULL, xlab=&#39;LOR&#39;, ylab=&#39;LHR&#39;, 
#         ylim=c(-3,3), xlim=c(-3,3))

plot(x=y[,1], y=y[,2], cex=(data.use$n_a+data.use$n_b)/(pi*30),
       xlab=&#39;Log Odds-Ratio&#39;, ylab=&#39;Log Hazards-Ratio&#39;, ylim=c(-3,3), xlim=c(-3,3), pch=19, col=cols,
     main=&#39;Observed data (big circles withe size ~ N) and simulated data (tiny dots) \n from posterior predictive distribution for each trial (by color)&#39;, frame.plot = F)

lor_all &lt;- lhr_all &lt;- NULL

for(id in 1:ns) {
  lor &lt;- bvnma_one_class_bug$sims.list$y_new[,id,1]
  lhr &lt;- bvnma_one_class_bug$sims.list$y_new[,id,2]
  points(x=lor, y=lhr, col=cols[id], cex=.33, pch=1)
  
  lor_all &lt;- c(lor_all, lor)
  lhr_all &lt;- c(lhr_all, lhr)
}
lm(y[,2]~y[,1]) %&gt;% abline(col=&#39;black&#39;, lwd=1.75, lty=2)
legend(x=-3,y=3, legend=data.use$des, col = cols, pch=19, bty=&#39;n&#39;)</code></pre>
<p><img src="1_PRROC_Gating_NMA_Dynamic_Borrowing_files/figure-html/unnamed-chunk-8-4.png" width="960" /></p>
<pre class="r"><code># lm(lhr~lor) %&gt;% abline(col=&#39;black&#39;, lwd=1.5, lty=2)</code></pre>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
